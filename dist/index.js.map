{"version":3,"file":"index.js","mappings":"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","sources":["webpack://mapboxGlDrawSnapOnMode/./node_modules/.pnpm/@mapbox+mapbox-gl-draw@1.4.3/node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/.pnpm/polygon-clipping@0.15.7/node_modules/polygon-clipping/dist/polygon-clipping.umd.js","webpack://mapboxGlDrawSnapOnMode/webpack/bootstrap","webpack://mapboxGlDrawSnapOnMode/webpack/runtime/compat get default export","webpack://mapboxGlDrawSnapOnMode/webpack/runtime/define property getters","webpack://mapboxGlDrawSnapOnMode/webpack/runtime/global","webpack://mapboxGlDrawSnapOnMode/webpack/runtime/hasOwnProperty shorthand","webpack://mapboxGlDrawSnapOnMode/webpack/runtime/make namespace object","webpack://mapboxGlDrawSnapOnMode/./node_modules/.pnpm/@turf+helpers@7.1.0/node_modules/@turf/helpers/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/bbox-polygon/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/point-in-polygon-hao/dist/pointInPolygon.mjs","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/invariant/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/boolean-point-in-polygon/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/sweepline-intersections/dist/sweeplineIntersections.esm.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/line-intersect/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/meta/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/polygon-to-line/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/boolean-disjoint/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/distance/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/bearing/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/destination/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/nearest-point-on-line/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/clone/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/nearest-point/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/midpoint/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./src/utils/index.ts","webpack://mapboxGlDrawSnapOnMode/./node_modules/@turf/boolean-intersects/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/.pnpm/@turf+meta@7.1.0/node_modules/@turf/meta/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./node_modules/.pnpm/@turf+difference@7.1.0/node_modules/@turf/difference/dist/esm/index.js","webpack://mapboxGlDrawSnapOnMode/./src/modes/snap_polygon.ts","webpack://mapboxGlDrawSnapOnMode/./src/modes/snap_direct_select.ts","webpack://mapboxGlDrawSnapOnMode/./src/utils/customDrawStyles.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).MapboxDraw=e()}(this,(function(){\"use strict\";var t=function(t,e){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},o={on:function(t,e,o){if(void 0===n[t])throw new Error(\"Invalid event type: \"+t);n[t].push({selector:e,fn:o})},render:function(t){e.store.featureChanged(t)}},r=function(t,r){for(var i=n[t],a=i.length;a--;){var s=i[a];if(s.selector(r)){s.fn.call(o,r)||e.store.render(),e.ui.updateMapClasses();break}}};return t.start.call(o),{render:t.render,stop:function(){t.stop&&t.stop()},trash:function(){t.trash&&(t.trash(),e.store.render())},combineFeatures:function(){t.combineFeatures&&t.combineFeatures()},uncombineFeatures:function(){t.uncombineFeatures&&t.uncombineFeatures()},drag:function(t){r(\"drag\",t)},click:function(t){r(\"click\",t)},mousemove:function(t){r(\"mousemove\",t)},mousedown:function(t){r(\"mousedown\",t)},mouseup:function(t){r(\"mouseup\",t)},mouseout:function(t){r(\"mouseout\",t)},keydown:function(t){r(\"keydown\",t)},keyup:function(t){r(\"keyup\",t)},touchstart:function(t){r(\"touchstart\",t)},touchmove:function(t){r(\"touchmove\",t)},touchend:function(t){r(\"touchend\",t)},tap:function(t){r(\"tap\",t)}}};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function n(t){if(t.__esModule)return t;var e=t.default;if(\"function\"==typeof e){var n=function t(){if(this instanceof t){var n=[null];n.push.apply(n,arguments);var o=Function.bind.apply(e,n);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,\"__esModule\",{value:!0}),Object.keys(t).forEach((function(e){var o=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,o.get?o:{enumerable:!0,get:function(){return t[e]}})})),n}var o={},r={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142},i=r;function a(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,o,r,a,s,c=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(o=l-2,r=l-1,a=0):s===l-1?(o=l-1,r=0,a=1):(o=s,r=s+1,a=s+2),e=t[o],n=t[r],c+=(u(t[a][0])-u(e[0]))*Math.sin(u(n[1]));c=c*i.RADIUS*i.RADIUS/2}return c}function u(t){return t*Math.PI/180}o.geometry=function t(e){var n,o=0;switch(e.type){case\"Polygon\":return a(e.coordinates);case\"MultiPolygon\":for(n=0;n<e.coordinates.length;n++)o+=a(e.coordinates[n]);return o;case\"Point\":case\"MultiPoint\":case\"LineString\":case\"MultiLineString\":return 0;case\"GeometryCollection\":for(n=0;n<e.geometries.length;n++)o+=t(e.geometries[n]);return o}},o.ring=s;var c={CONTROL_BASE:\"mapboxgl-ctrl\",CONTROL_PREFIX:\"mapboxgl-ctrl-\",CONTROL_BUTTON:\"mapbox-gl-draw_ctrl-draw-btn\",CONTROL_BUTTON_LINE:\"mapbox-gl-draw_line\",CONTROL_BUTTON_POLYGON:\"mapbox-gl-draw_polygon\",CONTROL_BUTTON_POINT:\"mapbox-gl-draw_point\",CONTROL_BUTTON_TRASH:\"mapbox-gl-draw_trash\",CONTROL_BUTTON_COMBINE_FEATURES:\"mapbox-gl-draw_combine\",CONTROL_BUTTON_UNCOMBINE_FEATURES:\"mapbox-gl-draw_uncombine\",CONTROL_GROUP:\"mapboxgl-ctrl-group\",ATTRIBUTION:\"mapboxgl-ctrl-attrib\",ACTIVE_BUTTON:\"active\",BOX_SELECT:\"mapbox-gl-draw_boxselect\"},l={HOT:\"mapbox-gl-draw-hot\",COLD:\"mapbox-gl-draw-cold\"},d={ADD:\"add\",MOVE:\"move\",DRAG:\"drag\",POINTER:\"pointer\",NONE:\"none\"},p={POLYGON:\"polygon\",LINE:\"line_string\",POINT:\"point\"},f={FEATURE:\"Feature\",POLYGON:\"Polygon\",LINE_STRING:\"LineString\",POINT:\"Point\",FEATURE_COLLECTION:\"FeatureCollection\",MULTI_PREFIX:\"Multi\",MULTI_POINT:\"MultiPoint\",MULTI_LINE_STRING:\"MultiLineString\",MULTI_POLYGON:\"MultiPolygon\"},h={DRAW_LINE_STRING:\"draw_line_string\",DRAW_POLYGON:\"draw_polygon\",DRAW_POINT:\"draw_point\",SIMPLE_SELECT:\"simple_select\",DIRECT_SELECT:\"direct_select\",STATIC:\"static\"},g={CREATE:\"draw.create\",DELETE:\"draw.delete\",UPDATE:\"draw.update\",SELECTION_CHANGE:\"draw.selectionchange\",MODE_CHANGE:\"draw.modechange\",ACTIONABLE:\"draw.actionable\",RENDER:\"draw.render\",COMBINE_FEATURES:\"draw.combine\",UNCOMBINE_FEATURES:\"draw.uncombine\"},y={MOVE:\"move\",CHANGE_COORDINATES:\"change_coordinates\"},v={FEATURE:\"feature\",MIDPOINT:\"midpoint\",VERTEX:\"vertex\"},m={ACTIVE:\"true\",INACTIVE:\"false\"},_=[\"scrollZoom\",\"boxZoom\",\"dragRotate\",\"dragPan\",\"keyboard\",\"doubleClickZoom\",\"touchZoomRotate\"],b=-85,E=Object.freeze({__proto__:null,classes:c,sources:l,cursors:d,types:p,geojsonTypes:f,modes:h,events:g,updateActions:y,meta:v,activeStates:m,interactions:_,LAT_MIN:-90,LAT_RENDERED_MIN:b,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),T={Point:0,LineString:1,MultiLineString:1,Polygon:2};function C(t,e){var n=T[t.geometry.type]-T[e.geometry.type];return 0===n&&t.geometry.type===f.POLYGON?t.area-e.area:n}function O(t){return t.map((function(t){return t.geometry.type===f.POLYGON&&(t.area=o.geometry({type:f.FEATURE,property:{},geometry:t.geometry})),t})).sort(C).map((function(t){return delete t.area,t}))}function S(t,e){return void 0===e&&(e=0),[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}function I(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(var e=0,n=t.length;e<n;e++)this.add(t[e]),void 0!==t[e]&&(\"string\"==typeof t[e]?this._items[t[e]]=e:this._nums[t[e]]=e)}I.prototype.add=function(t){return this.has(t)||(this._length++,\"string\"==typeof t?this._items[t]=this._length:this._nums[t]=this._length),this},I.prototype.delete=function(t){return!1===this.has(t)||(this._length--,delete this._items[t],delete this._nums[t]),this},I.prototype.has=function(t){return(\"string\"==typeof t||\"number\"==typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])},I.prototype.values=function(){var t=this,e=[];return Object.keys(this._items).forEach((function(n){e.push({k:n,v:t._items[n]})})),Object.keys(this._nums).forEach((function(n){e.push({k:JSON.parse(n),v:t._nums[n]})})),e.sort((function(t,e){return t.v-e.v})).map((function(t){return t.k}))},I.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var x=[v.FEATURE,v.MIDPOINT,v.VERTEX],M={click:function(t,e,n){return L(t,e,n,n.options.clickBuffer)},touch:function(t,e,n){return L(t,e,n,n.options.touchBuffer)}};function L(t,e,n,o){if(null===n.map)return[];var r=t?S(t,o):e,i={};n.options.styles&&(i.layers=n.options.styles.map((function(t){return t.id})).filter((function(t){return null!=n.map.getLayer(t)})));var a=n.map.queryRenderedFeatures(r,i).filter((function(t){return-1!==x.indexOf(t.properties.meta)})),s=new I,u=[];return a.forEach((function(t){var e=t.properties.id;s.has(e)||(s.add(e),u.push(t))})),O(u)}function N(t,e){var n=M.click(t,null,e),o={mouse:d.NONE};return n[0]&&(o.mouse=n[0].properties.active===m.ACTIVE?d.MOVE:d.POINTER,o.feature=n[0].properties.meta),-1!==e.events.currentModeName().indexOf(\"draw\")&&(o.mouse=d.ADD),e.ui.queueMapClasses(o),e.ui.updateMapClasses(),n[0]}function A(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}function P(t,e,n){void 0===n&&(n={});var o=null!=n.fineTolerance?n.fineTolerance:4,r=null!=n.grossTolerance?n.grossTolerance:12,i=null!=n.interval?n.interval:500;t.point=t.point||e.point,t.time=t.time||e.time;var a=A(t.point,e.point);return a<o||a<r&&e.time-t.time<i}function F(t,e,n){void 0===n&&(n={});var o=null!=n.tolerance?n.tolerance:25,r=null!=n.interval?n.interval:250;return t.point=t.point||e.point,t.time=t.time||e.time,A(t.point,e.point)<o&&e.time-t.time<r}var w={exports:{}},R=w.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return\"0\";for(var n=Math.log(Math.pow(2,t))/Math.log(e),o=2;n===1/0;o*=2)n=Math.log(Math.pow(2,t/o))/Math.log(e)*o;var r=n-Math.floor(n),i=\"\";for(o=0;o<Math.floor(n);o++){i=Math.floor(Math.random()*e).toString(e)+i}if(r){var a=Math.pow(e,r);i=Math.floor(Math.random()*a).toString(e)+i}var s=parseInt(i,e);return s!==1/0&&s>=Math.pow(2,t)?R(t,e):i};R.rack=function(t,e,n){var o=function(o){var i=0;do{if(i++>10){if(!n)throw new Error(\"too many ID collisions, use more bits\");t+=n}var a=R(t,e)}while(Object.hasOwnProperty.call(r,a));return r[a]=o,a},r=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=e||16,o};var k=e(w.exports),D=function(t,e){this.ctx=t,this.properties=e.properties||{},this.coordinates=e.geometry.coordinates,this.id=e.id||k(),this.type=e.geometry.type};D.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},D.prototype.incomingCoords=function(t){this.setCoordinates(t)},D.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},D.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},D.prototype.setProperty=function(t,e){this.properties[t]=e},D.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:f.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},D.prototype.internal=function(t){var e={id:this.id,meta:v.FEATURE,\"meta:type\":this.type,active:m.INACTIVE,mode:t};if(this.ctx.options.userProperties)for(var n in this.properties)e[\"user_\"+n]=this.properties[n];return{type:f.FEATURE,properties:e,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var U=function(t,e){D.call(this,t,e)};(U.prototype=Object.create(D.prototype)).isValid=function(){return\"number\"==typeof this.coordinates[0]&&\"number\"==typeof this.coordinates[1]},U.prototype.updateCoordinate=function(t,e,n){this.coordinates=3===arguments.length?[e,n]:[t,e],this.changed()},U.prototype.getCoordinate=function(){return this.getCoordinates()};var j=function(t,e){D.call(this,t,e)};(j.prototype=Object.create(D.prototype)).isValid=function(){return this.coordinates.length>1},j.prototype.addCoordinate=function(t,e,n){this.changed();var o=parseInt(t,10);this.coordinates.splice(o,0,[e,n])},j.prototype.getCoordinate=function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))},j.prototype.removeCoordinate=function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)},j.prototype.updateCoordinate=function(t,e,n){var o=parseInt(t,10);this.coordinates[o]=[e,n],this.changed()};var V=function(t,e){D.call(this,t,e),this.coordinates=this.coordinates.map((function(t){return t.slice(0,-1)}))};(V.prototype=Object.create(D.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(t){return t.length>2}))},V.prototype.incomingCoords=function(t){this.coordinates=t.map((function(t){return t.slice(0,-1)})),this.changed()},V.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},V.prototype.addCoordinate=function(t,e,n){this.changed();var o=t.split(\".\").map((function(t){return parseInt(t,10)}));this.coordinates[o[0]].splice(o[1],0,[e,n])},V.prototype.removeCoordinate=function(t){this.changed();var e=t.split(\".\").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))},V.prototype.getCoordinate=function(t){var e=t.split(\".\").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))},V.prototype.getCoordinates=function(){return this.coordinates.map((function(t){return t.concat([t[0]])}))},V.prototype.updateCoordinate=function(t,e,n){this.changed();var o=t.split(\".\"),r=parseInt(o[0],10),i=parseInt(o[1],10);void 0===this.coordinates[r]&&(this.coordinates[r]=[]),this.coordinates[r][i]=[e,n]};var B={MultiPoint:U,MultiLineString:j,MultiPolygon:V},G=function(t,e,n,o,r){var i=n.split(\".\"),a=parseInt(i[0],10),s=i[1]?i.slice(1).join(\".\"):null;return t[a][e](s,o,r)},J=function(t,e){if(D.call(this,t,e),delete this.coordinates,this.model=B[e.geometry.type],void 0===this.model)throw new TypeError(e.geometry.type+\" is not a valid type\");this.features=this._coordinatesToFeatures(e.geometry.coordinates)};function z(t){this.map=t.map,this.drawConfig=JSON.parse(JSON.stringify(t.options||{})),this._ctx=t}(J.prototype=Object.create(D.prototype))._coordinatesToFeatures=function(t){var e=this,n=this.model.bind(this);return t.map((function(t){return new n(e.ctx,{id:k(),type:f.FEATURE,properties:{},geometry:{coordinates:t,type:e.type.replace(\"Multi\",\"\")}})}))},J.prototype.isValid=function(){return this.features.every((function(t){return t.isValid()}))},J.prototype.setCoordinates=function(t){this.features=this._coordinatesToFeatures(t),this.changed()},J.prototype.getCoordinate=function(t){return G(this.features,\"getCoordinate\",t)},J.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(t){return t.type===f.POLYGON?t.getCoordinates():t.coordinates}))))},J.prototype.updateCoordinate=function(t,e,n){G(this.features,\"updateCoordinate\",t,e,n),this.changed()},J.prototype.addCoordinate=function(t,e,n){G(this.features,\"addCoordinate\",t,e,n),this.changed()},J.prototype.removeCoordinate=function(t){G(this.features,\"removeCoordinate\",t),this.changed()},J.prototype.getFeatures=function(){return this.features},z.prototype.setSelected=function(t){return this._ctx.store.setSelected(t)},z.prototype.setSelectedCoordinates=function(t){var e=this;this._ctx.store.setSelectedCoordinates(t),t.reduce((function(t,n){return void 0===t[n.feature_id]&&(t[n.feature_id]=!0,e._ctx.store.get(n.feature_id).changed()),t}),{})},z.prototype.getSelected=function(){return this._ctx.store.getSelected()},z.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},z.prototype.isSelected=function(t){return this._ctx.store.isSelected(t)},z.prototype.getFeature=function(t){return this._ctx.store.get(t)},z.prototype.select=function(t){return this._ctx.store.select(t)},z.prototype.deselect=function(t){return this._ctx.store.deselect(t)},z.prototype.deleteFeature=function(t,e){return void 0===e&&(e={}),this._ctx.store.delete(t,e)},z.prototype.addFeature=function(t){return this._ctx.store.add(t)},z.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},z.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},z.prototype.setActionableState=function(t){void 0===t&&(t={});var e={trash:t.trash||!1,combineFeatures:t.combineFeatures||!1,uncombineFeatures:t.uncombineFeatures||!1};return this._ctx.events.actionable(e)},z.prototype.changeMode=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),this._ctx.events.changeMode(t,e,n)},z.prototype.updateUIClasses=function(t){return this._ctx.ui.queueMapClasses(t)},z.prototype.activateUIButton=function(t){return this._ctx.ui.setActiveButton(t)},z.prototype.featuresAt=function(t,e,n){if(void 0===n&&(n=\"click\"),\"click\"!==n&&\"touch\"!==n)throw new Error(\"invalid buffer type\");return M[n](t,e,this._ctx)},z.prototype.newFeature=function(t){var e=t.geometry.type;return e===f.POINT?new U(this._ctx,t):e===f.LINE_STRING?new j(this._ctx,t):e===f.POLYGON?new V(this._ctx,t):new J(this._ctx,t)},z.prototype.isInstanceOf=function(t,e){if(t===f.POINT)return e instanceof U;if(t===f.LINE_STRING)return e instanceof j;if(t===f.POLYGON)return e instanceof V;if(\"MultiFeature\"===t)return e instanceof J;throw new Error(\"Unknown feature class: \"+t)},z.prototype.doRender=function(t){return this._ctx.store.featureChanged(t)},z.prototype.onSetup=function(){},z.prototype.onDrag=function(){},z.prototype.onClick=function(){},z.prototype.onMouseMove=function(){},z.prototype.onMouseDown=function(){},z.prototype.onMouseUp=function(){},z.prototype.onMouseOut=function(){},z.prototype.onKeyUp=function(){},z.prototype.onKeyDown=function(){},z.prototype.onTouchStart=function(){},z.prototype.onTouchMove=function(){},z.prototype.onTouchEnd=function(){},z.prototype.onTap=function(){},z.prototype.onStop=function(){},z.prototype.onTrash=function(){},z.prototype.onCombineFeature=function(){},z.prototype.onUncombineFeature=function(){},z.prototype.toDisplayFeatures=function(){throw new Error(\"You must overwrite toDisplayFeatures\")};var Y={drag:\"onDrag\",click:\"onClick\",mousemove:\"onMouseMove\",mousedown:\"onMouseDown\",mouseup:\"onMouseUp\",mouseout:\"onMouseOut\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",touchstart:\"onTouchStart\",touchmove:\"onTouchMove\",touchend:\"onTouchEnd\",tap:\"onTap\"},$=Object.keys(Y);function q(t){var e=Object.keys(t);return function(n,o){void 0===o&&(o={});var r={},i=e.reduce((function(e,n){return e[n]=t[n],e}),new z(n));return{start:function(){var e=this;r=i.onSetup(o),$.forEach((function(n){var o,a=Y[n],s=function(){return!1};t[a]&&(s=function(){return!0}),e.on(n,s,(o=a,function(t){return i[o](r,t)}))}))},stop:function(){i.onStop(r)},trash:function(){i.onTrash(r)},combineFeatures:function(){i.onCombineFeatures(r)},uncombineFeatures:function(){i.onUncombineFeatures(r)},render:function(t,e){i.toDisplayFeatures(r,t,e)}}}}function H(t){return[].concat(t).filter((function(t){return void 0!==t}))}function X(){var t=this;if(!(t.ctx.map&&void 0!==t.ctx.map.getSource(l.HOT)))return u();var e=t.ctx.events.currentModeName();t.ctx.ui.queueMapClasses({mode:e});var n=[],o=[];t.isDirty?o=t.getAllIds():(n=t.getChangedIds().filter((function(e){return void 0!==t.get(e)})),o=t.sources.hot.filter((function(e){return e.properties.id&&-1===n.indexOf(e.properties.id)&&void 0!==t.get(e.properties.id)})).map((function(t){return t.properties.id}))),t.sources.hot=[];var r=t.sources.cold.length;t.sources.cold=t.isDirty?[]:t.sources.cold.filter((function(t){var e=t.properties.id||t.properties.parent;return-1===n.indexOf(e)}));var i=r!==t.sources.cold.length||o.length>0;function a(n,o){var r=t.get(n).internal(e);t.ctx.events.currentModeRender(r,(function(e){t.sources[o].push(e)}))}if(n.forEach((function(t){return a(t,\"hot\")})),o.forEach((function(t){return a(t,\"cold\")})),i&&t.ctx.map.getSource(l.COLD).setData({type:f.FEATURE_COLLECTION,features:t.sources.cold}),t.ctx.map.getSource(l.HOT).setData({type:f.FEATURE_COLLECTION,features:t.sources.hot}),t._emitSelectionChange&&(t.ctx.map.fire(g.SELECTION_CHANGE,{features:t.getSelected().map((function(t){return t.toGeoJSON()})),points:t.getSelectedCoordinates().map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t.coordinates}}}))}),t._emitSelectionChange=!1),t._deletedFeaturesToEmit.length){var s=t._deletedFeaturesToEmit.map((function(t){return t.toGeoJSON()}));t._deletedFeaturesToEmit=[],t.ctx.map.fire(g.DELETE,{features:s})}function u(){t.isDirty=!1,t.clearChangedIds()}u(),t.ctx.map.fire(g.RENDER,{})}function Z(t){var e,n=this;this._features={},this._featureIds=new I,this._selectedFeatureIds=new I,this._selectedCoordinates=[],this._changedFeatureIds=new I,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=t,this.sources={hot:[],cold:[]},this.render=function(){e||(e=requestAnimationFrame((function(){e=null,X.call(n)})))},this.isDirty=!1}function W(t,e){var n=t._selectedCoordinates.filter((function(e){return t._selectedFeatureIds.has(e.feature_id)}));t._selectedCoordinates.length===n.length||e.silent||(t._emitSelectionChange=!0),t._selectedCoordinates=n}Z.prototype.createRenderBatch=function(){var t=this,e=this.render,n=0;return this.render=function(){n++},function(){t.render=e,n>0&&t.render()}},Z.prototype.setDirty=function(){return this.isDirty=!0,this},Z.prototype.featureChanged=function(t){return this._changedFeatureIds.add(t),this},Z.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},Z.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},Z.prototype.getAllIds=function(){return this._featureIds.values()},Z.prototype.add=function(t){return this.featureChanged(t.id),this._features[t.id]=t,this._featureIds.add(t.id),this},Z.prototype.delete=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._featureIds.has(t)&&(n._featureIds.delete(t),n._selectedFeatureIds.delete(t),e.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[t])&&n._deletedFeaturesToEmit.push(n._features[t]),delete n._features[t],n.isDirty=!0)})),W(this,e),this},Z.prototype.get=function(t){return this._features[t]},Z.prototype.getAll=function(){var t=this;return Object.keys(this._features).map((function(e){return t._features[e]}))},Z.prototype.select=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._selectedFeatureIds.has(t)||(n._selectedFeatureIds.add(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),this},Z.prototype.deselect=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._selectedFeatureIds.has(t)&&(n._selectedFeatureIds.delete(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),W(this,e),this},Z.prototype.clearSelected=function(t){return void 0===t&&(t={}),this.deselect(this._selectedFeatureIds.values(),{silent:t.silent}),this},Z.prototype.setSelected=function(t,e){var n=this;return void 0===e&&(e={}),t=H(t),this.deselect(this._selectedFeatureIds.values().filter((function(e){return-1===t.indexOf(e)})),{silent:e.silent}),this.select(t.filter((function(t){return!n._selectedFeatureIds.has(t)})),{silent:e.silent}),this},Z.prototype.setSelectedCoordinates=function(t){return this._selectedCoordinates=t,this._emitSelectionChange=!0,this},Z.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},Z.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},Z.prototype.getSelected=function(){var t=this;return this._selectedFeatureIds.values().map((function(e){return t.get(e)}))},Z.prototype.getSelectedCoordinates=function(){var t=this;return this._selectedCoordinates.map((function(e){return{coordinates:t.get(e.feature_id).getCoordinate(e.coord_path)}}))},Z.prototype.isSelected=function(t){return this._selectedFeatureIds.has(t)},Z.prototype.setFeatureProperty=function(t,e,n){this.get(t).setProperty(e,n),this.featureChanged(t)},Z.prototype.storeMapConfig=function(){var t=this;_.forEach((function(e){t.ctx.map[e]&&(t._mapInitialConfig[e]=t.ctx.map[e].isEnabled())}))},Z.prototype.restoreMapConfig=function(){var t=this;Object.keys(this._mapInitialConfig).forEach((function(e){t._mapInitialConfig[e]?t.ctx.map[e].enable():t.ctx.map[e].disable()}))},Z.prototype.getInitialConfigValue=function(t){return void 0===this._mapInitialConfig[t]||this._mapInitialConfig[t]};var K=function(){for(var t=arguments,e={},n=0;n<arguments.length;n++){var o=t[n];for(var r in o)Q.call(o,r)&&(e[r]=o[r])}return e},Q=Object.prototype.hasOwnProperty;var tt=e(K),et=[\"mode\",\"feature\",\"mouse\"];function nt(e){var n=null,o=null,r={onRemove:function(){return e.map.off(\"load\",r.connect),clearInterval(o),r.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.boxZoomInitial&&e.map.boxZoom.enable(),e.map=null,e.container=null,e.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){e.map.off(\"load\",r.connect),clearInterval(o),r.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(t,e){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[tt({},{type:t},e)]),a.apply(i,n)},e.map=i,e.events=function(e){var n=Object.keys(e.options.modes).reduce((function(t,n){return t[n]=q(e.options.modes[n]),t}),{}),o={},r={},i={},a=null,s=null;i.drag=function(t,n){n({point:t.point,time:(new Date).getTime()})?(e.ui.queueMapClasses({mouse:d.DRAG}),s.drag(t)):t.originalEvent.stopPropagation()},i.mousedrag=function(t){i.drag(t,(function(t){return!P(o,t)}))},i.touchdrag=function(t){i.drag(t,(function(t){return!F(r,t)}))},i.mousemove=function(t){if(1===(void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which))return i.mousedrag(t);var n=N(t,e);t.featureTarget=n,s.mousemove(t)},i.mousedown=function(t){o={time:(new Date).getTime(),point:t.point};var n=N(t,e);t.featureTarget=n,s.mousedown(t)},i.mouseup=function(t){var n=N(t,e);t.featureTarget=n,P(o,{point:t.point,time:(new Date).getTime()})?s.click(t):s.mouseup(t)},i.mouseout=function(t){s.mouseout(t)},i.touchstart=function(t){if(e.options.touchEnabled){r={time:(new Date).getTime(),point:t.point};var n=M.touch(t,null,e)[0];t.featureTarget=n,s.touchstart(t)}},i.touchmove=function(t){if(e.options.touchEnabled)return s.touchmove(t),i.touchdrag(t)},i.touchend=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){var n=M.touch(t,null,e)[0];t.featureTarget=n,F(r,{time:(new Date).getTime(),point:t.point})?s.tap(t):s.touchend(t)}};var u=function(t){return!(8===t||46===t||t>=48&&t<=57)};function c(o,r,i){void 0===i&&(i={}),s.stop();var u=n[o];if(void 0===u)throw new Error(o+\" is not valid\");a=o;var c=u(e,r);s=t(c,e),i.silent||e.map.fire(g.MODE_CHANGE,{mode:o}),e.store.setDirty(),e.store.render()}i.keydown=function(t){(t.srcElement||t.target).classList.contains(\"mapboxgl-canvas\")&&(8!==t.keyCode&&46!==t.keyCode||!e.options.controls.trash?u(t.keyCode)?s.keydown(t):49===t.keyCode&&e.options.controls.point?c(h.DRAW_POINT):50===t.keyCode&&e.options.controls.line_string?c(h.DRAW_LINE_STRING):51===t.keyCode&&e.options.controls.polygon&&c(h.DRAW_POLYGON):(t.preventDefault(),s.trash()))},i.keyup=function(t){u(t.keyCode)&&s.keyup(t)},i.zoomend=function(){e.store.changeZoom()},i.data=function(t){if(\"style\"===t.dataType){var n=e.setup,o=e.map,r=e.options,i=e.store;r.styles.some((function(t){return o.getLayer(t.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var l={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){a=e.options.defaultMode,s=t(n[a](e),e)},changeMode:c,actionable:function(t){var n=!1;Object.keys(t).forEach((function(e){if(void 0===l[e])throw new Error(\"Invalid action type\");l[e]!==t[e]&&(n=!0),l[e]=t[e]})),n&&e.map.fire(g.ACTIONABLE,{actions:l})},currentModeName:function(){return a},currentModeRender:function(t,e){return s.render(t,e)},fire:function(t,e){i[t]&&i[t](e)},addEventListeners:function(){e.map.on(\"mousemove\",i.mousemove),e.map.on(\"mousedown\",i.mousedown),e.map.on(\"mouseup\",i.mouseup),e.map.on(\"data\",i.data),e.map.on(\"touchmove\",i.touchmove),e.map.on(\"touchstart\",i.touchstart),e.map.on(\"touchend\",i.touchend),e.container.addEventListener(\"mouseout\",i.mouseout),e.options.keybindings&&(e.container.addEventListener(\"keydown\",i.keydown),e.container.addEventListener(\"keyup\",i.keyup))},removeEventListeners:function(){e.map.off(\"mousemove\",i.mousemove),e.map.off(\"mousedown\",i.mousedown),e.map.off(\"mouseup\",i.mouseup),e.map.off(\"data\",i.data),e.map.off(\"touchmove\",i.touchmove),e.map.off(\"touchstart\",i.touchstart),e.map.off(\"touchend\",i.touchend),e.container.removeEventListener(\"mouseout\",i.mouseout),e.options.keybindings&&(e.container.removeEventListener(\"keydown\",i.keydown),e.container.removeEventListener(\"keyup\",i.keyup))},trash:function(t){s.trash(t)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return a}}}(e),e.ui=function(t){var e={},n=null,o={mode:null,feature:null,mouse:null},r={mode:null,feature:null,mouse:null};function i(t){r=tt(r,t)}function a(){var e,n;if(t.container){var i=[],a=[];et.forEach((function(t){r[t]!==o[t]&&(i.push(t+\"-\"+o[t]),null!==r[t]&&a.push(t+\"-\"+r[t]))})),i.length>0&&(e=t.container.classList).remove.apply(e,i),a.length>0&&(n=t.container.classList).add.apply(n,a),o=tt(o,r)}}function s(t,e){void 0===e&&(e={});var o=document.createElement(\"button\");return o.className=c.CONTROL_BUTTON+\" \"+e.className,o.setAttribute(\"title\",e.title),e.container.appendChild(o),o.addEventListener(\"click\",(function(o){if(o.preventDefault(),o.stopPropagation(),o.target===n)return u(),void e.onDeactivate();l(t),e.onActivate()}),!0),o}function u(){n&&(n.classList.remove(c.ACTIVE_BUTTON),n=null)}function l(t){u();var o=e[t];o&&o&&\"trash\"!==t&&(o.classList.add(c.ACTIVE_BUTTON),n=o)}return{setActiveButton:l,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=t.options.controls,o=document.createElement(\"div\");return o.className=c.CONTROL_GROUP+\" \"+c.CONTROL_BASE,n?(n[p.LINE]&&(e[p.LINE]=s(p.LINE,{container:o,className:c.CONTROL_BUTTON_LINE,title:\"LineString tool \"+(t.options.keybindings?\"(l)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_LINE_STRING)},onDeactivate:function(){return t.events.trash()}})),n[p.POLYGON]&&(e[p.POLYGON]=s(p.POLYGON,{container:o,className:c.CONTROL_BUTTON_POLYGON,title:\"Polygon tool \"+(t.options.keybindings?\"(p)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_POLYGON)},onDeactivate:function(){return t.events.trash()}})),n[p.POINT]&&(e[p.POINT]=s(p.POINT,{container:o,className:c.CONTROL_BUTTON_POINT,title:\"Marker tool \"+(t.options.keybindings?\"(m)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_POINT)},onDeactivate:function(){return t.events.trash()}})),n.trash&&(e.trash=s(\"trash\",{container:o,className:c.CONTROL_BUTTON_TRASH,title:\"Delete\",onActivate:function(){t.events.trash()}})),n.combine_features&&(e.combine_features=s(\"combineFeatures\",{container:o,className:c.CONTROL_BUTTON_COMBINE_FEATURES,title:\"Combine\",onActivate:function(){t.events.combineFeatures()}})),n.uncombine_features&&(e.uncombine_features=s(\"uncombineFeatures\",{container:o,className:c.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:\"Uncombine\",onActivate:function(){t.events.uncombineFeatures()}})),o):o},removeButtons:function(){Object.keys(e).forEach((function(t){var n=e[t];n.parentNode&&n.parentNode.removeChild(n),delete e[t]}))}}}(e),e.container=i.getContainer(),e.store=new Z(e),n=e.ui.addButtons(),e.options.boxSelect&&(e.boxZoomInitial=i.boxZoom.isEnabled(),i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?r.connect():(i.on(\"load\",r.connect),o=setInterval((function(){i.loaded()&&r.connect()}),16)),e.events.start(),n},addLayers:function(){e.map.addSource(l.COLD,{data:{type:f.FEATURE_COLLECTION,features:[]},type:\"geojson\"}),e.map.addSource(l.HOT,{data:{type:f.FEATURE_COLLECTION,features:[]},type:\"geojson\"}),e.options.styles.forEach((function(t){e.map.addLayer(t)})),e.store.setDirty(!0),e.store.render()},removeLayers:function(){e.options.styles.forEach((function(t){e.map.getLayer(t.id)&&e.map.removeLayer(t.id)})),e.map.getSource(l.COLD)&&e.map.removeSource(l.COLD),e.map.getSource(l.HOT)&&e.map.removeSource(l.HOT)}};return e.setup=r,r}var ot=[{id:\"gl-draw-polygon-fill-inactive\",type:\"fill\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Polygon\"],[\"!=\",\"mode\",\"static\"]],paint:{\"fill-color\":\"#3bb2d0\",\"fill-outline-color\":\"#3bb2d0\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-fill-active\",type:\"fill\",filter:[\"all\",[\"==\",\"active\",\"true\"],[\"==\",\"$type\",\"Polygon\"]],paint:{\"fill-color\":\"#fbb03b\",\"fill-outline-color\":\"#fbb03b\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-midpoint\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"midpoint\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-polygon-stroke-inactive\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Polygon\"],[\"!=\",\"mode\",\"static\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#3bb2d0\",\"line-width\":2}},{id:\"gl-draw-polygon-stroke-active\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"true\"],[\"==\",\"$type\",\"Polygon\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#fbb03b\",\"line-dasharray\":[.2,2],\"line-width\":2}},{id:\"gl-draw-line-inactive\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"LineString\"],[\"!=\",\"mode\",\"static\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#3bb2d0\",\"line-width\":2}},{id:\"gl-draw-line-active\",type:\"line\",filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"==\",\"active\",\"true\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#fbb03b\",\"line-dasharray\":[.2,2],\"line-width\":2}},{id:\"gl-draw-polygon-and-line-vertex-stroke-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"meta\",\"vertex\"],[\"==\",\"$type\",\"Point\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#fff\"}},{id:\"gl-draw-polygon-and-line-vertex-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"meta\",\"vertex\"],[\"==\",\"$type\",\"Point\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-point-point-stroke-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"feature\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":5,\"circle-opacity\":1,\"circle-color\":\"#fff\"}},{id:\"gl-draw-point-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"feature\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#3bb2d0\"}},{id:\"gl-draw-point-stroke-active\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"==\",\"active\",\"true\"],[\"!=\",\"meta\",\"midpoint\"]],paint:{\"circle-radius\":7,\"circle-color\":\"#fff\"}},{id:\"gl-draw-point-active\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"!=\",\"meta\",\"midpoint\"],[\"==\",\"active\",\"true\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-polygon-fill-static\",type:\"fill\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Polygon\"]],paint:{\"fill-color\":\"#404040\",\"fill-outline-color\":\"#404040\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-stroke-static\",type:\"line\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Polygon\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#404040\",\"line-width\":2}},{id:\"gl-draw-line-static\",type:\"line\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"LineString\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#404040\",\"line-width\":2}},{id:\"gl-draw-point-static\",type:\"circle\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Point\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#404040\"}}];function rt(t){return function(e){var n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}}function it(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)}function at(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===m.ACTIVE&&t.featureTarget.properties.meta===v.FEATURE))}function st(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===m.INACTIVE&&t.featureTarget.properties.meta===v.FEATURE))}function ut(t){return void 0===t.featureTarget}function ct(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===v.FEATURE)}function lt(t){var e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===v.VERTEX)}function dt(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey}function pt(t){return 27===t.keyCode}function ft(t){return 13===t.keyCode}var ht=Object.freeze({__proto__:null,isOfMetaType:rt,isShiftMousedown:it,isActiveFeature:at,isInactiveFeature:st,noTarget:ut,isFeature:ct,isVertex:lt,isShiftDown:dt,isEscapeKey:pt,isEnterKey:ft,isTrue:function(){return!0}}),gt=yt;function yt(t,e){this.x=t,this.y=e}yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=o,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),o=Math.sin(t),r=e.x+n*(this.x-e.x)-o*(this.y-e.y),i=e.y+o*(this.x-e.x)+n*(this.y-e.y);return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},yt.convert=function(t){return t instanceof yt?t:Array.isArray(t)?new yt(t[0],t[1]):t};var vt=e(gt);function mt(t,e){var n=e.getBoundingClientRect();return new vt(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}function _t(t,e,n,o){return{type:f.FEATURE,properties:{meta:v.VERTEX,parent:t,coord_path:n,active:o?m.ACTIVE:m.INACTIVE},geometry:{type:f.POINT,coordinates:e}}}function bt(t,e,n){var o=e.geometry.coordinates,r=n.geometry.coordinates;if(o[1]>85||o[1]<b||r[1]>85||r[1]<b)return null;var i={lng:(o[0]+r[0])/2,lat:(o[1]+r[1])/2};return{type:f.FEATURE,properties:{meta:v.MIDPOINT,parent:t,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:f.POINT,coordinates:[i.lng,i.lat]}}}function Et(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var o,r=t.geometry,i=r.type,a=r.coordinates,s=t.properties&&t.properties.id,u=[];function c(t,n){var o=\"\",r=null;t.forEach((function(t,i){var a=null!=n?n+\".\"+i:String(i),c=_t(s,t,a,l(a));if(e.midpoints&&r){var d=bt(s,r,c);d&&u.push(d)}r=c;var p=JSON.stringify(t);o!==p&&u.push(c),0===i&&(o=p)}))}function l(t){return!!e.selectedPaths&&-1!==e.selectedPaths.indexOf(t)}return i===f.POINT?u.push(_t(s,a,n,l(n))):i===f.POLYGON?a.forEach((function(t,e){c(t,null!==n?n+\".\"+e:String(e))})):i===f.LINE_STRING?c(a,n):0===i.indexOf(f.MULTI_PREFIX)&&(o=i.replace(f.MULTI_PREFIX,\"\"),a.forEach((function(n,r){var i={type:f.FEATURE,properties:t.properties,geometry:{type:o,coordinates:n}};u=u.concat(Et(i,e,r))}))),u}var Tt={enable:function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue(\"doubleClickZoom\")&&t.map.doubleClickZoom.enable()}),0)},disable:function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()}),0)}},Ct={exports:{}},Ot=function(t){if(!t||!t.type)return null;var e=St[t.type];if(!e)return null;if(\"geometry\"===e)return{type:\"FeatureCollection\",features:[{type:\"Feature\",properties:{},geometry:t}]};if(\"feature\"===e)return{type:\"FeatureCollection\",features:[t]};if(\"featurecollection\"===e)return t},St={Point:\"geometry\",MultiPoint:\"geometry\",LineString:\"geometry\",MultiLineString:\"geometry\",Polygon:\"geometry\",MultiPolygon:\"geometry\",GeometryCollection:\"geometry\",Feature:\"feature\",FeatureCollection:\"featurecollection\"};var It=e(Ot);var xt=Object.freeze({__proto__:null,default:function t(e){switch(e&&e.type||null){case\"FeatureCollection\":return e.features=e.features.reduce((function(e,n){return e.concat(t(n))}),[]),e;case\"Feature\":return e.geometry?t(e.geometry).map((function(t){var n={type:\"Feature\",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):[e];case\"MultiPoint\":return e.coordinates.map((function(t){return{type:\"Point\",coordinates:t}}));case\"MultiPolygon\":return e.coordinates.map((function(t){return{type:\"Polygon\",coordinates:t}}));case\"MultiLineString\":return e.coordinates.map((function(t){return{type:\"LineString\",coordinates:t}}));case\"GeometryCollection\":return e.geometries.map(t).reduce((function(t,e){return t.concat(e)}),[]);case\"Point\":case\"Polygon\":case\"LineString\":return[e]}}}),Mt=Ot,Lt=n(xt),Nt=function(t){return function t(e){if(Array.isArray(e)&&e.length&&\"number\"==typeof e[0])return[e];return e.reduce((function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)}),[])}(t)};Lt instanceof Function||(Lt=Lt.default);var At={exports:{}},Pt=At.exports=function(t){return new Ft(t)};function Ft(t){this.value=t}function wt(t,e,n){var o=[],r=[],i=!0;return function t(a){var s=n?Rt(a):a,u={},c=!0,l={node:s,node_:a,path:[].concat(o),parent:r[r.length-1],parents:r,key:o.slice(-1)[0],isRoot:0===o.length,level:o.length,circular:null,update:function(t,e){l.isRoot||(l.parent.node[l.key]=t),l.node=t,e&&(c=!1)},delete:function(t){delete l.parent.node[l.key],t&&(c=!1)},remove:function(t){Ut(l.parent.node)?l.parent.node.splice(l.key,1):delete l.parent.node[l.key],t&&(c=!1)},keys:null,before:function(t){u.before=t},after:function(t){u.after=t},pre:function(t){u.pre=t},post:function(t){u.post=t},stop:function(){i=!1},block:function(){c=!1}};if(!i)return l;function d(){if(\"object\"==typeof l.node&&null!==l.node){l.keys&&l.node_===l.node||(l.keys=kt(l.node)),l.isLeaf=0==l.keys.length;for(var t=0;t<r.length;t++)if(r[t].node_===a){l.circular=r[t];break}}else l.isLeaf=!0,l.keys=null;l.notLeaf=!l.isLeaf,l.notRoot=!l.isRoot}d();var p=e.call(l,l.node);return void 0!==p&&l.update&&l.update(p),u.before&&u.before.call(l,l.node),c?(\"object\"!=typeof l.node||null===l.node||l.circular||(r.push(l),d(),jt(l.keys,(function(e,r){o.push(e),u.pre&&u.pre.call(l,l.node[e],e);var i=t(l.node[e]);n&&Vt.call(l.node,e)&&(l.node[e]=i.node),i.isLast=r==l.keys.length-1,i.isFirst=0==r,u.post&&u.post.call(l,i),o.pop()})),r.pop()),u.after&&u.after.call(l,l.node),l):l}(t).node}function Rt(t){if(\"object\"==typeof t&&null!==t){var e;if(Ut(t))e=[];else if(\"[object Date]\"===Dt(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return\"[object RegExp]\"===Dt(t)}(t))e=new RegExp(t);else if(function(t){return\"[object Error]\"===Dt(t)}(t))e={message:t.message};else if(function(t){return\"[object Boolean]\"===Dt(t)}(t))e=new Boolean(t);else if(function(t){return\"[object Number]\"===Dt(t)}(t))e=new Number(t);else if(function(t){return\"[object String]\"===Dt(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},o=function(){};o.prototype=n,e=new o}return jt(kt(t),(function(n){e[n]=t[n]})),e}return t}Ft.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var o=t[n];if(!e||!Vt.call(e,o)){e=void 0;break}e=e[o]}return e},Ft.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var o=t[n];if(!e||!Vt.call(e,o))return!1;e=e[o]}return!0},Ft.prototype.set=function(t,e){for(var n=this.value,o=0;o<t.length-1;o++){var r=t[o];Vt.call(n,r)||(n[r]={}),n=n[r]}return n[t[o]]=e,e},Ft.prototype.map=function(t){return wt(this.value,t,!0)},Ft.prototype.forEach=function(t){return this.value=wt(this.value,t,!1),this.value},Ft.prototype.reduce=function(t,e){var n=1===arguments.length,o=n?this.value:e;return this.forEach((function(e){this.isRoot&&n||(o=t.call(this,o,e))})),o},Ft.prototype.paths=function(){var t=[];return this.forEach((function(e){t.push(this.path)})),t},Ft.prototype.nodes=function(){var t=[];return this.forEach((function(e){t.push(this.node)})),t},Ft.prototype.clone=function(){var t=[],e=[];return function n(o){for(var r=0;r<t.length;r++)if(t[r]===o)return e[r];if(\"object\"==typeof o&&null!==o){var i=Rt(o);return t.push(o),e.push(i),jt(kt(o),(function(t){i[t]=n(o[t])})),t.pop(),e.pop(),i}return o}(this.value)};var kt=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Dt(t){return Object.prototype.toString.call(t)}var Ut=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},jt=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};jt(kt(Ft.prototype),(function(t){Pt[t]=function(e){var n=[].slice.call(arguments,1),o=new Ft(e);return o[t].apply(o,n)}}));var Vt=Object.hasOwnProperty||function(t,e){return e in t},Bt=At.exports,Gt=Jt;function Jt(t){if(!(this instanceof Jt))return new Jt(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}Jt.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},Jt.prototype.equals=function(t){var e;return e=t instanceof Jt?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},Jt.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Jt.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof Jt?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},Jt.prototype.bbox=function(){return this._valid?this._bbox:null},Jt.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},Jt.prototype.intersect=function(t){return this._valid?(e=t instanceof Jt?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},Jt.prototype._fastContains=function(){if(!this._valid)return new Function(\"return null;\");var t=\"return \"+this._bbox[0]+\"<= ll[0] &&\"+this._bbox[1]+\"<= ll[1] &&\"+this._bbox[2]+\">= ll[0] &&\"+this._bbox[3]+\">= ll[1]\";return new Function(\"ll\",t)},Jt.prototype.polygon=function(){return this._valid?{type:\"Polygon\",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var zt=function(t){if(!t)return[];var e=Lt(Mt(t)),n=[];return e.features.forEach((function(t){t.geometry&&(n=n.concat(Nt(t.geometry.coordinates)))})),n},Yt=Bt,$t=Gt,qt={features:[\"FeatureCollection\"],coordinates:[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],geometry:[\"Feature\"],geometries:[\"GeometryCollection\"]},Ht=Object.keys(qt);function Xt(t){for(var e=$t(),n=zt(t),o=0;o<n.length;o++)e.include(n[o]);return e}Ct.exports=function(t){return Xt(t).bbox()},Ct.exports.polygon=function(t){return Xt(t).polygon()},Ct.exports.bboxify=function(t){return Yt(t).map((function(t){t&&(Ht.some((function(e){return!!t[e]&&-1!==qt[e].indexOf(t.type)}))&&(t.bbox=Xt(t).bbox(),this.update(t)))}))};var Zt=e(Ct.exports),Wt=-90;function Kt(t,e){var n=Wt,o=90,r=Wt,i=90,a=270,s=-270;t.forEach((function(t){var e=Zt(t),u=e[1],c=e[3],l=e[0],d=e[2];u>n&&(n=u),c<o&&(o=c),c>r&&(r=c),u<i&&(i=u),l<a&&(a=l),d>s&&(s=d)}));var u=e;return n+u.lat>85&&(u.lat=85-n),r+u.lat>90&&(u.lat=90-r),o+u.lat<-85&&(u.lat=-85-o),i+u.lat<Wt&&(u.lat=Wt-i),a+u.lng<=-270&&(u.lng+=360*Math.ceil(Math.abs(u.lng)/360)),s+u.lng>=270&&(u.lng-=360*Math.ceil(Math.abs(u.lng)/360)),u}function Qt(t,e){var n=Kt(t.map((function(t){return t.toGeoJSON()})),e);t.forEach((function(t){var e,o=t.getCoordinates(),r=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},i=function(t){return t.map((function(t){return r(t)}))};t.type===f.POINT?e=r(o):t.type===f.LINE_STRING||t.type===f.MULTI_POINT?e=o.map(r):t.type===f.POLYGON||t.type===f.MULTI_LINE_STRING?e=o.map(i):t.type===f.MULTI_POLYGON&&(e=o.map((function(t){return t.map((function(t){return i(t)}))}))),t.incomingCoords(e)}))}var te={onSetup:function(t){var e=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(t){return void 0!==e.getFeature(t)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(g.UPDATE,{action:y.MOVE,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(){var t=this,e=this.getSelected(),n=e.filter((function(e){return t.isInstanceOf(\"MultiFeature\",e)})),o=!1;if(e.length>1){o=!0;var r=e[0].type.replace(\"Multi\",\"\");e.forEach((function(t){t.type.replace(\"Multi\",\"\")!==r&&(o=!1)}))}var i=n.length>0,a=e.length>0;this.setActionableState({combineFeatures:o,uncombineFeatures:i,trash:a})},getUniqueIds:function(t){return t.length?t.map((function(t){return t.properties.id})).filter((function(t){return void 0!==t})).reduce((function(t,e){return t.add(e),t}),new I).values():[]},stopExtendedInteractions:function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},onStop:function(){Tt.enable(this)},onMouseMove:function(t,e){return ct(e)&&t.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(t),!0},onMouseOut:function(t){return!t.dragMoving||this.fireUpdate()}};te.onTap=te.onClick=function(t,e){return ut(e)?this.clickAnywhere(t,e):rt(v.VERTEX)(e)?this.clickOnVertex(t,e):ct(e)?this.clickOnFeature(t,e):void 0},te.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(t){return e.doRender(t)}))),Tt.enable(this),this.stopExtendedInteractions(t)},te.clickOnVertex=function(t,e){this.changeMode(h.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:d.MOVE})},te.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},te.clickOnFeature=function(t,e){var n=this;Tt.disable(this),this.stopExtendedInteractions(t);var o=dt(e),r=this.getSelectedIds(),i=e.featureTarget.properties.id,a=this.isSelected(i);if(!o&&a&&this.getFeature(i).type!==f.POINT)return this.changeMode(h.DIRECT_SELECT,{featureId:i});a&&o?(this.deselect(i),this.updateUIClasses({mouse:d.POINTER}),1===r.length&&Tt.enable(this)):!a&&o?(this.select(i),this.updateUIClasses({mouse:d.MOVE})):a||o||(r.forEach((function(t){return n.doRender(t)})),this.setSelected(i),this.updateUIClasses({mouse:d.MOVE})),this.doRender(i)},te.onMouseDown=function(t,e){return at(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&it(e)?this.startBoxSelect(t,e):void 0},te.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=mt(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},te.onTouchStart=function(t,e){if(at(e))return this.startOnActiveFeature(t,e)},te.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},te.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:d.ADD}),t.boxSelectElement||(t.boxSelectElement=document.createElement(\"div\"),t.boxSelectElement.classList.add(c.BOX_SELECT),this.map.getContainer().appendChild(t.boxSelectElement));var n=mt(e.originalEvent,this.map.getContainer()),o=Math.min(t.boxSelectStartLocation.x,n.x),r=Math.max(t.boxSelectStartLocation.x,n.x),i=Math.min(t.boxSelectStartLocation.y,n.y),a=Math.max(t.boxSelectStartLocation.y,n.y),s=\"translate(\"+o+\"px, \"+i+\"px)\";t.boxSelectElement.style.transform=s,t.boxSelectElement.style.WebkitTransform=s,t.boxSelectElement.style.width=r-o+\"px\",t.boxSelectElement.style.height=a-i+\"px\"},te.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};Qt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},te.onTouchEnd=te.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var o=[t.boxSelectStartLocation,mt(e.originalEvent,this.map.getContainer())],r=this.featuresAt(null,o,\"click\"),i=this.getUniqueIds(r).filter((function(t){return!n.isSelected(t)}));i.length&&(this.select(i),i.forEach((function(t){return n.doRender(t)})),this.updateUIClasses({mouse:d.MOVE}))}this.stopExtendedInteractions(t)},te.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?m.ACTIVE:m.INACTIVE,n(e),this.fireActionable(),e.properties.active===m.ACTIVE&&e.geometry.type!==f.POINT&&Et(e).forEach(n)},te.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},te.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],o=t[0].type.replace(\"Multi\",\"\"),r=0;r<t.length;r++){var i=t[r];if(i.type.replace(\"Multi\",\"\")!==o)return;i.type.includes(\"Multi\")?i.getCoordinates().forEach((function(t){e.push(t)})):e.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:f.FEATURE,properties:n[0].properties,geometry:{type:\"Multi\"+o,coordinates:e}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(g.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},te.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],o=[],r=function(r){var i=e[r];t.isInstanceOf(\"MultiFeature\",i)&&(i.getFeatures().forEach((function(e){t.addFeature(e),e.properties=i.properties,n.push(e.toGeoJSON()),t.select([e.id])})),t.deleteFeature(i.id,{silent:!0}),o.push(i.toGeoJSON()))},i=0;i<e.length;i++)r(i);n.length>1&&this.map.fire(g.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:o}),this.fireActionable()}};var ee=rt(v.VERTEX),ne=rt(v.MIDPOINT),oe={fireUpdate:function(){this.map.fire(g.UPDATE,{action:y.CHANGE_COORDINATES,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},stopDragging:function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,o=t.selectedCoordPaths.indexOf(n.coord_path);dt(e)||-1!==o?dt(e)&&-1===o&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var r=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(r)},onMidpoint:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(t,e){return e.map((function(e){return{feature_id:t,coord_path:e}}))},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Qt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},dragVertex:function(t,e,n){for(var o=t.selectedCoordPaths.map((function(e){return t.feature.getCoordinate(e)})),r=Kt(o.map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t}}})),n),i=0;i<o.length;i++){var a=o[i];t.feature.updateCoordinate(t.selectedCoordPaths[i],a[0]+r.lng,a[1]+r.lat)}},clickNoTarget:function(){this.changeMode(h.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(h.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error(\"You must provide a featureId to enter direct_select mode\");if(n.type===f.POINT)throw new TypeError(\"direct_select mode doesn't handle point features\");var o={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,o.selectedCoordPaths)),this.setSelected(e),Tt.disable(this),this.setActionableState({trash:!0}),o},onStop:function(){Tt.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=m.ACTIVE,n(e),Et(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=m.INACTIVE,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort((function(t,e){return e.localeCompare(t,\"en\",{numeric:!0})})).forEach((function(e){return t.feature.removeCoordinate(e)})),this.fireUpdate(),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(h.SIMPLE_SELECT,{}))},onMouseMove:function(t,e){var n=at(e),o=ee(e),r=ne(e),i=0===t.selectedCoordPaths.length;return n&&i||o&&!i?this.updateUIClasses({mouse:d.MOVE}):this.updateUIClasses({mouse:d.NONE}),(o||n||r)&&t.dragMoving&&this.fireUpdate(),this.stopDragging(t),!0},onMouseOut:function(t){return t.dragMoving&&this.fireUpdate(),!0}};oe.onTouchStart=oe.onMouseDown=function(t,e){return ee(e)?this.onVertex(t,e):at(e)?this.onFeature(t,e):ne(e)?this.onMidpoint(t,e):void 0},oe.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},oe.onClick=function(t,e){return ut(e)?this.clickNoTarget(t,e):at(e)?this.clickActiveFeature(t,e):st(e)?this.clickInactive(t,e):void this.stopDragging(t)},oe.onTap=function(t,e){return ut(e)?this.clickNoTarget(t,e):at(e)?this.clickActiveFeature(t,e):st(e)?this.clickInactive(t,e):void 0},oe.onTouchEnd=oe.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)};var re={};function ie(t,e){return!!t.lngLat&&(t.lngLat.lng===e[0]&&t.lngLat.lat===e[1])}re.onSetup=function(){var t=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:[]}});return this.addFeature(t),this.clearSelectedFeatures(),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POINT),this.setActionableState({trash:!0}),{point:t}},re.stopDrawingAndRemove=function(t){this.deleteFeature([t.point.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)},re.onTap=re.onClick=function(t,e){this.updateUIClasses({mouse:d.MOVE}),t.point.updateCoordinate(\"\",e.lngLat.lng,e.lngLat.lat),this.map.fire(g.CREATE,{features:[t.point.toGeoJSON()]}),this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.point.id]})},re.onStop=function(t){this.activateUIButton(),t.point.getCoordinate().length||this.deleteFeature([t.point.id],{silent:!0})},re.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.point.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e)},re.onTrash=re.stopDrawingAndRemove,re.onKeyUp=function(t,e){if(pt(e)||ft(e))return this.stopDrawingAndRemove(t,e)};var ae={onSetup:function(){var t=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),Tt.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&ie(e,t.polygon.coordinates[0][t.currentVertexPosition-1]))return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]});this.updateUIClasses({mouse:d.ADD}),t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},onMouseMove:function(t,e){t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:d.POINTER})}};ae.onTap=ae.onClick=function(t,e){return lt(e)?this.clickOnVertex(t,e):this.clickAnywhere(t,e)},ae.onKeyUp=function(t,e){pt(e)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)):ft(e)&&this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},ae.onStop=function(t){this.updateUIClasses({mouse:d.NONE}),Tt.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate(\"0.\"+t.currentVertexPosition),t.polygon.isValid()?this.map.fire(g.CREATE,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT,{},{silent:!0})))},ae.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.polygon.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e);if(0!==e.geometry.coordinates.length){var r=e.geometry.coordinates[0].length;if(!(r<3)){if(e.properties.meta=v.FEATURE,n(_t(t.polygon.id,e.geometry.coordinates[0][0],\"0.0\",!1)),r>3){var i=e.geometry.coordinates[0].length-3;n(_t(t.polygon.id,e.geometry.coordinates[0][i],\"0.\"+i,!1))}if(r<=4){var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:f.FEATURE,properties:e.properties,geometry:{coordinates:a,type:f.LINE_STRING}}),3===r)return}return n(e)}}},ae.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)};var se={onSetup:function(t){var e,n,o=(t=t||{}).featureId,r=\"forward\";if(o){if(!(e=this.getFeature(o)))throw new Error(\"Could not find a feature with the provided featureId\");var i=t.from;if(i&&\"Feature\"===i.type&&i.geometry&&\"Point\"===i.geometry.type&&(i=i.geometry),i&&\"Point\"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error(\"Please use the `from` property to indicate which point to continue the line from\");var a=e.coordinates.length-1;if(e.coordinates[a][0]===i[0]&&e.coordinates[a][1]===i[1])n=a+1,e.addCoordinate.apply(e,[n].concat(e.coordinates[a]));else{if(e.coordinates[0][0]!==i[0]||e.coordinates[0][1]!==i[1])throw new Error(\"`from` should match the point at either the start or the end of the provided LineString\");r=\"backwards\",n=0,e.addCoordinate.apply(e,[n].concat(e.coordinates[0]))}}else e=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(e);return this.clearSelectedFeatures(),Tt.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.LINE),this.setActionableState({trash:!0}),{line:e,currentVertexPosition:n,direction:r}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&ie(e,t.line.coordinates[t.currentVertexPosition-1])||\"backwards\"===t.direction&&ie(e,t.line.coordinates[t.currentVertexPosition+1]))return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]});this.updateUIClasses({mouse:d.ADD}),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),\"forward\"===t.direction?(t.currentVertexPosition++,t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]})},onMouseMove:function(t,e){t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:d.POINTER})}};se.onTap=se.onClick=function(t,e){if(lt(e))return this.clickOnVertex(t,e);this.clickAnywhere(t,e)},se.onKeyUp=function(t,e){ft(e)?this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]}):pt(e)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT))},se.onStop=function(t){Tt.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.line.id)&&(t.line.removeCoordinate(\"\"+t.currentVertexPosition),t.line.isValid()?this.map.fire(g.CREATE,{features:[t.line.toGeoJSON()]}):(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT,{},{silent:!0})))},se.onTrash=function(t){this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)},se.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.line.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e);e.geometry.coordinates.length<2||(e.properties.meta=v.FEATURE,n(_t(t.line.id,e.geometry.coordinates[\"forward\"===t.direction?e.geometry.coordinates.length-2:1],\"\"+(\"forward\"===t.direction?e.geometry.coordinates.length-2:1),!1)),n(e))};var ue={simple_select:te,direct_select:oe,draw_point:re,draw_polygon:ae,draw_line_string:se},ce={defaultMode:h.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:ot,modes:ue,controls:{},userProperties:!1},le={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},de={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function pe(t,e){return t.map((function(t){return t.source?t:tt(t,{id:t.id+\".\"+e,source:\"hot\"===e?l.HOT:l.COLD})}))}var fe={exports:{}};!function(t,e){var n=\"__lodash_hash_undefined__\",o=9007199254740991,r=\"[object Arguments]\",i=\"[object Array]\",a=\"[object Boolean]\",s=\"[object Date]\",u=\"[object Error]\",c=\"[object Function]\",l=\"[object Map]\",d=\"[object Number]\",p=\"[object Object]\",f=\"[object Promise]\",h=\"[object RegExp]\",g=\"[object Set]\",y=\"[object String]\",v=\"[object Symbol]\",m=\"[object WeakMap]\",_=\"[object ArrayBuffer]\",b=\"[object DataView]\",E=/^\\[object .+?Constructor\\]$/,T=/^(?:0|[1-9]\\d*)$/,C={};C[\"[object Float32Array]\"]=C[\"[object Float64Array]\"]=C[\"[object Int8Array]\"]=C[\"[object Int16Array]\"]=C[\"[object Int32Array]\"]=C[\"[object Uint8Array]\"]=C[\"[object Uint8ClampedArray]\"]=C[\"[object Uint16Array]\"]=C[\"[object Uint32Array]\"]=!0,C[r]=C[i]=C[_]=C[a]=C[b]=C[s]=C[u]=C[c]=C[l]=C[d]=C[p]=C[h]=C[g]=C[y]=C[m]=!1;var O=\"object\"==typeof global&&global&&global.Object===Object&&global,S=\"object\"==typeof self&&self&&self.Object===Object&&self,I=O||S||Function(\"return this\")(),x=e&&!e.nodeType&&e,M=x&&t&&!t.nodeType&&t,L=M&&M.exports===x,N=L&&O.process,A=function(){try{return N&&N.binding&&N.binding(\"util\")}catch(t){}}(),P=A&&A.isTypedArray;function F(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function w(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}function R(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var k,D,U,j=Array.prototype,V=Function.prototype,B=Object.prototype,G=I[\"__core-js_shared__\"],J=V.toString,z=B.hasOwnProperty,Y=(k=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+k:\"\",$=B.toString,q=RegExp(\"^\"+J.call(z).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),H=L?I.Buffer:void 0,X=I.Symbol,Z=I.Uint8Array,W=B.propertyIsEnumerable,K=j.splice,Q=X?X.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=H?H.isBuffer:void 0,nt=(D=Object.keys,U=Object,function(t){return D(U(t))}),ot=At(I,\"DataView\"),rt=At(I,\"Map\"),it=At(I,\"Promise\"),at=At(I,\"Set\"),st=At(I,\"WeakMap\"),ut=At(Object,\"create\"),ct=Rt(ot),lt=Rt(rt),dt=Rt(it),pt=Rt(at),ft=Rt(st),ht=X?X.prototype:void 0,gt=ht?ht.valueOf:void 0;function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function bt(t){var e=this.__data__=new vt(t);this.size=e.size}function Et(t,e){var n=Ut(t),o=!n&&Dt(t),r=!n&&!o&&jt(t),i=!n&&!o&&!r&&zt(t),a=n||o||r||i,s=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=s.length;for(var c in t)!e&&!z.call(t,c)||a&&(\"length\"==c||r&&(\"offset\"==c||\"parent\"==c)||i&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||wt(c,u))||s.push(c);return s}function Tt(t,e){for(var n=t.length;n--;)if(kt(t[n][0],e))return n;return-1}function Ct(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":Q&&Q in Object(t)?function(t){var e=z.call(t,Q),n=t[Q];try{t[Q]=void 0;var o=!0}catch(t){}var r=$.call(t);o&&(e?t[Q]=n:delete t[Q]);return r}(t):function(t){return $.call(t)}(t)}function Ot(t){return Jt(t)&&Ct(t)==r}function St(t,e,n,o,c){return t===e||(null==t||null==e||!Jt(t)&&!Jt(e)?t!=t&&e!=e:function(t,e,n,o,c,f){var m=Ut(t),E=Ut(e),T=m?i:Ft(t),C=E?i:Ft(e),O=(T=T==r?p:T)==p,S=(C=C==r?p:C)==p,I=T==C;if(I&&jt(t)){if(!jt(e))return!1;m=!0,O=!1}if(I&&!O)return f||(f=new bt),m||zt(t)?Mt(t,e,n,o,c,f):function(t,e,n,o,r,i,c){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!i(new Z(t),new Z(e)));case a:case s:case d:return kt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case h:case y:return t==e+\"\";case l:var p=w;case g:var f=1&o;if(p||(p=R),t.size!=e.size&&!f)return!1;var m=c.get(t);if(m)return m==e;o|=2,c.set(t,e);var E=Mt(p(t),p(e),o,r,i,c);return c.delete(t),E;case v:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,T,n,o,c,f);if(!(1&n)){var x=O&&z.call(t,\"__wrapped__\"),M=S&&z.call(e,\"__wrapped__\");if(x||M){var L=x?t.value():t,N=M?e.value():e;return f||(f=new bt),c(L,N,n,o,f)}}if(!I)return!1;return f||(f=new bt),function(t,e,n,o,r,i){var a=1&n,s=Lt(t),u=s.length,c=Lt(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var d=s[l];if(!(a?d in e:z.call(e,d)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var f=!0;i.set(t,e),i.set(e,t);var h=a;for(;++l<u;){var g=t[d=s[l]],y=e[d];if(o)var v=a?o(y,g,d,e,t,i):o(g,y,d,t,e,i);if(!(void 0===v?g===y||r(g,y,n,o,i):v)){f=!1;break}h||(h=\"constructor\"==d)}if(f&&!h){var m=t.constructor,_=e.constructor;m==_||!(\"constructor\"in t)||!(\"constructor\"in e)||\"function\"==typeof m&&m instanceof m&&\"function\"==typeof _&&_ instanceof _||(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,o,c,f)}(t,e,n,o,St,c))}function It(t){return!(!Gt(t)||function(t){return!!Y&&Y in t}(t))&&(Vt(t)?q:E).test(Rt(t))}function xt(t){if(n=(e=t)&&e.constructor,o=\"function\"==typeof n&&n.prototype||B,e!==o)return nt(t);var e,n,o,r=[];for(var i in Object(t))z.call(t,i)&&\"constructor\"!=i&&r.push(i);return r}function Mt(t,e,n,o,r,i){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,d=!0,p=2&n?new _t:void 0;for(i.set(t,e),i.set(e,t);++l<s;){var f=t[l],h=e[l];if(o)var g=a?o(h,f,l,e,t,i):o(f,h,l,t,e,i);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!F(e,(function(t,e){if(a=e,!p.has(a)&&(f===t||r(f,t,n,o,i)))return p.push(e);var a}))){d=!1;break}}else if(f!==h&&!r(f,h,n,o,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function Lt(t){return function(t,e,n){var o=e(t);return Ut(t)?o:function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}(o,n(t))}(t,Yt,Pt)}function Nt(t,e){var n,o,r=t.__data__;return(\"string\"==(o=typeof(n=e))||\"number\"==o||\"symbol\"==o||\"boolean\"==o?\"__proto__\"!==n:null===n)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function At(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}yt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},yt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yt.prototype.get=function(t){var e=this.__data__;if(ut){var o=e[t];return o===n?void 0:o}return z.call(e,t)?e[t]:void 0},yt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:z.call(e,t)},yt.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=ut&&void 0===e?n:e,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():K.call(e,n,1),--this.size,!0)},vt.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},vt.prototype.has=function(t){return Tt(this.__data__,t)>-1},vt.prototype.set=function(t,e){var n=this.__data__,o=Tt(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new(rt||vt),string:new yt}},mt.prototype.delete=function(t){var e=Nt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return Nt(this,t).get(t)},mt.prototype.has=function(t){return Nt(this,t).has(t)},mt.prototype.set=function(t,e){var n=Nt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,n),this},_t.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new vt,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof vt){var o=n.__data__;if(!rt||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(o)}return n.set(t,e),this.size=n.size,this};var Pt=tt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}(tt(t),(function(e){return W.call(t,e)})))}:function(){return[]},Ft=Ct;function wt(t,e){return!!(e=null==e?o:e)&&(\"number\"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function kt(t,e){return t===e||t!=t&&e!=e}(ot&&Ft(new ot(new ArrayBuffer(1)))!=b||rt&&Ft(new rt)!=l||it&&Ft(it.resolve())!=f||at&&Ft(new at)!=g||st&&Ft(new st)!=m)&&(Ft=function(t){var e=Ct(t),n=e==p?t.constructor:void 0,o=n?Rt(n):\"\";if(o)switch(o){case ct:return b;case lt:return l;case dt:return f;case pt:return g;case ft:return m}return e});var Dt=Ot(function(){return arguments}())?Ot:function(t){return Jt(t)&&z.call(t,\"callee\")&&!W.call(t,\"callee\")},Ut=Array.isArray;var jt=et||function(){return!1};function Vt(t){if(!Gt(t))return!1;var e=Ct(t);return e==c||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e}function Bt(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=o}function Gt(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Jt(t){return null!=t&&\"object\"==typeof t}var zt=P?function(t){return function(e){return t(e)}}(P):function(t){return Jt(t)&&Bt(t.length)&&!!C[Ct(t)]};function Yt(t){return null!=(e=t)&&Bt(e.length)&&!Vt(e)?Et(t):xt(t);var e}t.exports=function(t,e){return St(t,e)}}(fe,fe.exports);var he=e(fe.exports);function ge(t,e){return t.length===e.length&&JSON.stringify(t.map((function(t){return t})).sort())===JSON.stringify(e.map((function(t){return t})).sort())}var ye={Polygon:V,LineString:j,Point:U,MultiPolygon:J,MultiLineString:J,MultiPoint:J};var ve=Object.freeze({__proto__:null,CommonSelectors:ht,constrainFeatureMovement:Kt,createMidPoint:bt,createSupplementaryPoints:Et,createVertex:_t,doubleClickZoom:Tt,euclideanDistance:A,featuresAt:M,getFeatureAtAndSetCursors:N,isClick:P,isEventAtCoordinates:ie,isTap:F,mapEventToBoundingBox:S,ModeHandler:t,moveFeatures:Qt,sortFeatures:O,stringSetsAreEqual:ge,StringSet:I,theme:ot,toDenseArray:H}),me=function(t,e){var n={options:t=function(t){void 0===t&&(t={});var e=tt(t);return t.controls||(e.controls={}),!1===t.displayControlsDefault?e.controls=tt(de,t.controls):e.controls=tt(le,t.controls),(e=tt(ce,e)).styles=pe(e.styles,\"cold\").concat(pe(e.styles,\"hot\")),e}(t)};e=function(t,e){return e.modes=h,e.getFeatureIdsAt=function(e){return M.click({point:e},null,t).map((function(t){return t.properties.id}))},e.getSelectedIds=function(){return t.store.getSelectedIds()},e.getSelected=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getSelectedIds().map((function(e){return t.store.get(e)})).map((function(t){return t.toGeoJSON()}))}},e.getSelectedPoints=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getSelectedCoordinates().map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t.coordinates}}}))}},e.set=function(n){if(void 0===n.type||n.type!==f.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error(\"Invalid FeatureCollection\");var o=t.store.createRenderBatch(),r=t.store.getAllIds().slice(),i=e.add(n),a=new I(i);return(r=r.filter((function(t){return!a.has(t)}))).length&&e.delete(r),o(),i},e.add=function(e){var n=JSON.parse(JSON.stringify(It(e))).features.map((function(e){if(e.id=e.id||k(),null===e.geometry)throw new Error(\"Invalid geometry: null\");if(void 0===t.store.get(e.id)||t.store.get(e.id).type!==e.geometry.type){var n=ye[e.geometry.type];if(void 0===n)throw new Error(\"Invalid geometry type: \"+e.geometry.type+\".\");var o=new n(t,e);t.store.add(o)}else{var r=t.store.get(e.id);r.properties=e.properties,he(r.properties,e.properties)||t.store.featureChanged(r.id),he(r.getCoordinates(),e.geometry.coordinates)||r.incomingCoords(e.geometry.coordinates)}return e.id}));return t.store.render(),n},e.get=function(e){var n=t.store.get(e);if(n)return n.toGeoJSON()},e.getAll=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getAll().map((function(t){return t.toGeoJSON()}))}},e.delete=function(n){return t.store.delete(n,{silent:!0}),e.getMode()!==h.DIRECT_SELECT||t.store.getSelectedIds().length?t.store.render():t.events.changeMode(h.SIMPLE_SELECT,void 0,{silent:!0}),e},e.deleteAll=function(){return t.store.delete(t.store.getAllIds(),{silent:!0}),e.getMode()===h.DIRECT_SELECT?t.events.changeMode(h.SIMPLE_SELECT,void 0,{silent:!0}):t.store.render(),e},e.changeMode=function(n,o){return void 0===o&&(o={}),n===h.SIMPLE_SELECT&&e.getMode()===h.SIMPLE_SELECT?(ge(o.featureIds||[],t.store.getSelectedIds())||(t.store.setSelected(o.featureIds,{silent:!0}),t.store.render()),e):(n===h.DIRECT_SELECT&&e.getMode()===h.DIRECT_SELECT&&o.featureId===t.store.getSelectedIds()[0]||t.events.changeMode(n,o,{silent:!0}),e)},e.getMode=function(){return t.events.getMode()},e.trash=function(){return t.events.trash({silent:!0}),e},e.combineFeatures=function(){return t.events.combineFeatures({silent:!0}),e},e.uncombineFeatures=function(){return t.events.uncombineFeatures({silent:!0}),e},e.setFeatureProperty=function(n,o,r){return t.store.setFeatureProperty(n,o,r),e},e}(n,e),n.api=e;var o=nt(n);return e.onAdd=o.onAdd,e.onRemove=o.onRemove,e.types=p,e.options=t,e};function _e(t){me(t,this)}return _e.modes=ue,_e.constants=E,_e.lib=ve,_e}));\n//# sourceMappingURL=mapbox-gl-draw.js.map\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.polygonClipping = factory());\n})(this, (function () { 'use strict';\n\n    /**\n     * splaytree v3.1.2\n     * Fast Splay tree for Node and browser\n     *\n     * @author Alexander Milevski <info@w8r.name>\n     * @license MIT\n     * @preserve\n     */\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\n\n    function __generator(thisArg, body) {\n      var _ = {\n          label: 0,\n          sent: function () {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n          },\n          trys: [],\n          ops: []\n        },\n        f,\n        y,\n        t,\n        g;\n      return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n      }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n        return this;\n      }), g;\n      function verb(n) {\n        return function (v) {\n          return step([n, v]);\n        };\n      }\n      function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n            case 4:\n              _.label++;\n              return {\n                value: op[1],\n                done: false\n              };\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n            case 7:\n              op = _.ops.pop();\n              _.trys.pop();\n              continue;\n            default:\n              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                _ = 0;\n                continue;\n              }\n              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                _.label = op[1];\n                break;\n              }\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n                _.ops.push(op);\n                break;\n              }\n              if (t[2]) _.ops.pop();\n              _.trys.pop();\n              continue;\n          }\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n          value: op[0] ? op[1] : void 0,\n          done: true\n        };\n      }\n    }\n    var Node = /** @class */function () {\n      function Node(key, data) {\n        this.next = null;\n        this.key = key;\n        this.data = data;\n        this.left = null;\n        this.right = null;\n      }\n      return Node;\n    }();\n\n    /* follows \"An implementation of top-down splaying\"\r\n     * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n     */\n    function DEFAULT_COMPARE(a, b) {\n      return a > b ? 1 : a < b ? -1 : 0;\n    }\n    /**\r\n     * Simple top down splay, not requiring i to be in the tree t.\r\n     */\n    function splay(i, t, comparator) {\n      var N = new Node(null, null);\n      var l = N;\n      var r = N;\n      while (true) {\n        var cmp = comparator(i, t.key);\n        //if (i < t.key) {\n        if (cmp < 0) {\n          if (t.left === null) break;\n          //if (i < t.left.key) {\n          if (comparator(i, t.left.key) < 0) {\n            var y = t.left; /* rotate right */\n            t.left = y.right;\n            y.right = t;\n            t = y;\n            if (t.left === null) break;\n          }\n          r.left = t; /* link right */\n          r = t;\n          t = t.left;\n          //} else if (i > t.key) {\n        } else if (cmp > 0) {\n          if (t.right === null) break;\n          //if (i > t.right.key) {\n          if (comparator(i, t.right.key) > 0) {\n            var y = t.right; /* rotate left */\n            t.right = y.left;\n            y.left = t;\n            t = y;\n            if (t.right === null) break;\n          }\n          l.right = t; /* link left */\n          l = t;\n          t = t.right;\n        } else break;\n      }\n      /* assemble */\n      l.right = t.left;\n      r.left = t.right;\n      t.left = N.right;\n      t.right = N.left;\n      return t;\n    }\n    function insert(i, data, t, comparator) {\n      var node = new Node(i, data);\n      if (t === null) {\n        node.left = node.right = null;\n        return node;\n      }\n      t = splay(i, t, comparator);\n      var cmp = comparator(i, t.key);\n      if (cmp < 0) {\n        node.left = t.left;\n        node.right = t;\n        t.left = null;\n      } else if (cmp >= 0) {\n        node.right = t.right;\n        node.left = t;\n        t.right = null;\n      }\n      return node;\n    }\n    function split(key, v, comparator) {\n      var left = null;\n      var right = null;\n      if (v) {\n        v = splay(key, v, comparator);\n        var cmp = comparator(v.key, key);\n        if (cmp === 0) {\n          left = v.left;\n          right = v.right;\n        } else if (cmp < 0) {\n          right = v.right;\n          v.right = null;\n          left = v;\n        } else {\n          left = v.left;\n          v.left = null;\n          right = v;\n        }\n      }\n      return {\n        left: left,\n        right: right\n      };\n    }\n    function merge(left, right, comparator) {\n      if (right === null) return left;\n      if (left === null) return right;\n      right = splay(left.key, right, comparator);\n      right.left = left;\n      return right;\n    }\n    /**\r\n     * Prints level of the tree\r\n     */\n    function printRow(root, prefix, isTail, out, printNode) {\n      if (root) {\n        out(\"\" + prefix + (isTail ? '└── ' : '├── ') + printNode(root) + \"\\n\");\n        var indent = prefix + (isTail ? '    ' : '│   ');\n        if (root.left) printRow(root.left, indent, false, out, printNode);\n        if (root.right) printRow(root.right, indent, true, out, printNode);\n      }\n    }\n    var Tree = /** @class */function () {\n      function Tree(comparator) {\n        if (comparator === void 0) {\n          comparator = DEFAULT_COMPARE;\n        }\n        this._root = null;\n        this._size = 0;\n        this._comparator = comparator;\n      }\n      /**\r\n       * Inserts a key, allows duplicates\r\n       */\n      Tree.prototype.insert = function (key, data) {\n        this._size++;\n        return this._root = insert(key, data, this._root, this._comparator);\n      };\n      /**\r\n       * Adds a key, if it is not present in the tree\r\n       */\n      Tree.prototype.add = function (key, data) {\n        var node = new Node(key, data);\n        if (this._root === null) {\n          node.left = node.right = null;\n          this._size++;\n          this._root = node;\n        }\n        var comparator = this._comparator;\n        var t = splay(key, this._root, comparator);\n        var cmp = comparator(key, t.key);\n        if (cmp === 0) this._root = t;else {\n          if (cmp < 0) {\n            node.left = t.left;\n            node.right = t;\n            t.left = null;\n          } else if (cmp > 0) {\n            node.right = t.right;\n            node.left = t;\n            t.right = null;\n          }\n          this._size++;\n          this._root = node;\n        }\n        return this._root;\n      };\n      /**\r\n       * @param  {Key} key\r\n       * @return {Node|null}\r\n       */\n      Tree.prototype.remove = function (key) {\n        this._root = this._remove(key, this._root, this._comparator);\n      };\n      /**\r\n       * Deletes i from the tree if it's there\r\n       */\n      Tree.prototype._remove = function (i, t, comparator) {\n        var x;\n        if (t === null) return null;\n        t = splay(i, t, comparator);\n        var cmp = comparator(i, t.key);\n        if (cmp === 0) {\n          /* found it */\n          if (t.left === null) {\n            x = t.right;\n          } else {\n            x = splay(i, t.left, comparator);\n            x.right = t.right;\n          }\n          this._size--;\n          return x;\n        }\n        return t; /* It wasn't there */\n      };\n      /**\r\n       * Removes and returns the node with smallest key\r\n       */\n      Tree.prototype.pop = function () {\n        var node = this._root;\n        if (node) {\n          while (node.left) node = node.left;\n          this._root = splay(node.key, this._root, this._comparator);\n          this._root = this._remove(node.key, this._root, this._comparator);\n          return {\n            key: node.key,\n            data: node.data\n          };\n        }\n        return null;\n      };\n      /**\r\n       * Find without splaying\r\n       */\n      Tree.prototype.findStatic = function (key) {\n        var current = this._root;\n        var compare = this._comparator;\n        while (current) {\n          var cmp = compare(key, current.key);\n          if (cmp === 0) return current;else if (cmp < 0) current = current.left;else current = current.right;\n        }\n        return null;\n      };\n      Tree.prototype.find = function (key) {\n        if (this._root) {\n          this._root = splay(key, this._root, this._comparator);\n          if (this._comparator(key, this._root.key) !== 0) return null;\n        }\n        return this._root;\n      };\n      Tree.prototype.contains = function (key) {\n        var current = this._root;\n        var compare = this._comparator;\n        while (current) {\n          var cmp = compare(key, current.key);\n          if (cmp === 0) return true;else if (cmp < 0) current = current.left;else current = current.right;\n        }\n        return false;\n      };\n      Tree.prototype.forEach = function (visitor, ctx) {\n        var current = this._root;\n        var Q = []; /* Initialize stack s */\n        var done = false;\n        while (!done) {\n          if (current !== null) {\n            Q.push(current);\n            current = current.left;\n          } else {\n            if (Q.length !== 0) {\n              current = Q.pop();\n              visitor.call(ctx, current);\n              current = current.right;\n            } else done = true;\n          }\n        }\n        return this;\n      };\n      /**\r\n       * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n       */\n      Tree.prototype.range = function (low, high, fn, ctx) {\n        var Q = [];\n        var compare = this._comparator;\n        var node = this._root;\n        var cmp;\n        while (Q.length !== 0 || node) {\n          if (node) {\n            Q.push(node);\n            node = node.left;\n          } else {\n            node = Q.pop();\n            cmp = compare(node.key, high);\n            if (cmp > 0) {\n              break;\n            } else if (compare(node.key, low) >= 0) {\n              if (fn.call(ctx, node)) return this; // stop if smth is returned\n            }\n            node = node.right;\n          }\n        }\n        return this;\n      };\n      /**\r\n       * Returns array of keys\r\n       */\n      Tree.prototype.keys = function () {\n        var keys = [];\n        this.forEach(function (_a) {\n          var key = _a.key;\n          return keys.push(key);\n        });\n        return keys;\n      };\n      /**\r\n       * Returns array of all the data in the nodes\r\n       */\n      Tree.prototype.values = function () {\n        var values = [];\n        this.forEach(function (_a) {\n          var data = _a.data;\n          return values.push(data);\n        });\n        return values;\n      };\n      Tree.prototype.min = function () {\n        if (this._root) return this.minNode(this._root).key;\n        return null;\n      };\n      Tree.prototype.max = function () {\n        if (this._root) return this.maxNode(this._root).key;\n        return null;\n      };\n      Tree.prototype.minNode = function (t) {\n        if (t === void 0) {\n          t = this._root;\n        }\n        if (t) while (t.left) t = t.left;\n        return t;\n      };\n      Tree.prototype.maxNode = function (t) {\n        if (t === void 0) {\n          t = this._root;\n        }\n        if (t) while (t.right) t = t.right;\n        return t;\n      };\n      /**\r\n       * Returns node at given index\r\n       */\n      Tree.prototype.at = function (index) {\n        var current = this._root;\n        var done = false;\n        var i = 0;\n        var Q = [];\n        while (!done) {\n          if (current) {\n            Q.push(current);\n            current = current.left;\n          } else {\n            if (Q.length > 0) {\n              current = Q.pop();\n              if (i === index) return current;\n              i++;\n              current = current.right;\n            } else done = true;\n          }\n        }\n        return null;\n      };\n      Tree.prototype.next = function (d) {\n        var root = this._root;\n        var successor = null;\n        if (d.right) {\n          successor = d.right;\n          while (successor.left) successor = successor.left;\n          return successor;\n        }\n        var comparator = this._comparator;\n        while (root) {\n          var cmp = comparator(d.key, root.key);\n          if (cmp === 0) break;else if (cmp < 0) {\n            successor = root;\n            root = root.left;\n          } else root = root.right;\n        }\n        return successor;\n      };\n      Tree.prototype.prev = function (d) {\n        var root = this._root;\n        var predecessor = null;\n        if (d.left !== null) {\n          predecessor = d.left;\n          while (predecessor.right) predecessor = predecessor.right;\n          return predecessor;\n        }\n        var comparator = this._comparator;\n        while (root) {\n          var cmp = comparator(d.key, root.key);\n          if (cmp === 0) break;else if (cmp < 0) root = root.left;else {\n            predecessor = root;\n            root = root.right;\n          }\n        }\n        return predecessor;\n      };\n      Tree.prototype.clear = function () {\n        this._root = null;\n        this._size = 0;\n        return this;\n      };\n      Tree.prototype.toList = function () {\n        return toList(this._root);\n      };\n      /**\r\n       * Bulk-load items. Both array have to be same size\r\n       */\n      Tree.prototype.load = function (keys, values, presort) {\n        if (values === void 0) {\n          values = [];\n        }\n        if (presort === void 0) {\n          presort = false;\n        }\n        var size = keys.length;\n        var comparator = this._comparator;\n        // sort if needed\n        if (presort) sort(keys, values, 0, size - 1, comparator);\n        if (this._root === null) {\n          // empty tree\n          this._root = loadRecursive(keys, values, 0, size);\n          this._size = size;\n        } else {\n          // that re-builds the whole tree from two in-order traversals\n          var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\n          size = this._size + size;\n          this._root = sortedListToBST({\n            head: mergedList\n          }, 0, size);\n        }\n        return this;\n      };\n      Tree.prototype.isEmpty = function () {\n        return this._root === null;\n      };\n      Object.defineProperty(Tree.prototype, \"size\", {\n        get: function () {\n          return this._size;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(Tree.prototype, \"root\", {\n        get: function () {\n          return this._root;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Tree.prototype.toString = function (printNode) {\n        if (printNode === void 0) {\n          printNode = function (n) {\n            return String(n.key);\n          };\n        }\n        var out = [];\n        printRow(this._root, '', true, function (v) {\n          return out.push(v);\n        }, printNode);\n        return out.join('');\n      };\n      Tree.prototype.update = function (key, newKey, newData) {\n        var comparator = this._comparator;\n        var _a = split(key, this._root, comparator),\n          left = _a.left,\n          right = _a.right;\n        if (comparator(key, newKey) < 0) {\n          right = insert(newKey, newData, right, comparator);\n        } else {\n          left = insert(newKey, newData, left, comparator);\n        }\n        this._root = merge(left, right, comparator);\n      };\n      Tree.prototype.split = function (key) {\n        return split(key, this._root, this._comparator);\n      };\n      Tree.prototype[Symbol.iterator] = function () {\n        var current, Q, done;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              current = this._root;\n              Q = [];\n              done = false;\n              _a.label = 1;\n            case 1:\n              if (!!done) return [3 /*break*/, 6];\n              if (!(current !== null)) return [3 /*break*/, 2];\n              Q.push(current);\n              current = current.left;\n              return [3 /*break*/, 5];\n            case 2:\n              if (!(Q.length !== 0)) return [3 /*break*/, 4];\n              current = Q.pop();\n              return [4 /*yield*/, current];\n            case 3:\n              _a.sent();\n              current = current.right;\n              return [3 /*break*/, 5];\n            case 4:\n              done = true;\n              _a.label = 5;\n            case 5:\n              return [3 /*break*/, 1];\n            case 6:\n              return [2 /*return*/];\n          }\n        });\n      };\n      return Tree;\n    }();\n    function loadRecursive(keys, values, start, end) {\n      var size = end - start;\n      if (size > 0) {\n        var middle = start + Math.floor(size / 2);\n        var key = keys[middle];\n        var data = values[middle];\n        var node = new Node(key, data);\n        node.left = loadRecursive(keys, values, start, middle);\n        node.right = loadRecursive(keys, values, middle + 1, end);\n        return node;\n      }\n      return null;\n    }\n    function createList(keys, values) {\n      var head = new Node(null, null);\n      var p = head;\n      for (var i = 0; i < keys.length; i++) {\n        p = p.next = new Node(keys[i], values[i]);\n      }\n      p.next = null;\n      return head.next;\n    }\n    function toList(root) {\n      var current = root;\n      var Q = [];\n      var done = false;\n      var head = new Node(null, null);\n      var p = head;\n      while (!done) {\n        if (current) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length > 0) {\n            current = p = p.next = Q.pop();\n            current = current.right;\n          } else done = true;\n        }\n      }\n      p.next = null; // that'll work even if the tree was empty\n      return head.next;\n    }\n    function sortedListToBST(list, start, end) {\n      var size = end - start;\n      if (size > 0) {\n        var middle = start + Math.floor(size / 2);\n        var left = sortedListToBST(list, start, middle);\n        var root = list.head;\n        root.left = left;\n        list.head = list.head.next;\n        root.right = sortedListToBST(list, middle + 1, end);\n        return root;\n      }\n      return null;\n    }\n    function mergeLists(l1, l2, compare) {\n      var head = new Node(null, null); // dummy\n      var p = head;\n      var p1 = l1;\n      var p2 = l2;\n      while (p1 !== null && p2 !== null) {\n        if (compare(p1.key, p2.key) < 0) {\n          p.next = p1;\n          p1 = p1.next;\n        } else {\n          p.next = p2;\n          p2 = p2.next;\n        }\n        p = p.next;\n      }\n      if (p1 !== null) {\n        p.next = p1;\n      } else if (p2 !== null) {\n        p.next = p2;\n      }\n      return head.next;\n    }\n    function sort(keys, values, left, right, compare) {\n      if (left >= right) return;\n      var pivot = keys[left + right >> 1];\n      var i = left - 1;\n      var j = right + 1;\n      while (true) {\n        do i++; while (compare(keys[i], pivot) < 0);\n        do j--; while (compare(keys[j], pivot) > 0);\n        if (i >= j) break;\n        var tmp = keys[i];\n        keys[i] = keys[j];\n        keys[j] = tmp;\n        tmp = values[i];\n        values[i] = values[j];\n        values[j] = tmp;\n      }\n      sort(keys, values, left, j, compare);\n      sort(keys, values, j + 1, right, compare);\n    }\n\n    /**\n     * A bounding box has the format:\n     *\n     *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n     *\n     */\n\n    const isInBbox = (bbox, point) => {\n      return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n    };\n\n    /* Returns either null, or a bbox (aka an ordered pair of points)\n     * If there is only one point of overlap, a bbox with identical points\n     * will be returned */\n    const getBboxOverlap = (b1, b2) => {\n      // check if the bboxes overlap at all\n      if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null;\n\n      // find the middle two X values\n      const lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n      const upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x;\n\n      // find the middle two Y values\n      const lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n      const upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y;\n\n      // put those middle values together to get the overlap\n      return {\n        ll: {\n          x: lowerX,\n          y: lowerY\n        },\n        ur: {\n          x: upperX,\n          y: upperY\n        }\n      };\n    };\n\n    /* Javascript doesn't do integer math. Everything is\n     * floating point with percision Number.EPSILON.\n     *\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n     */\n\n    let epsilon$1 = Number.EPSILON;\n\n    // IE Polyfill\n    if (epsilon$1 === undefined) epsilon$1 = Math.pow(2, -52);\n    const EPSILON_SQ = epsilon$1 * epsilon$1;\n\n    /* FLP comparator */\n    const cmp = (a, b) => {\n      // check if they're both 0\n      if (-epsilon$1 < a && a < epsilon$1) {\n        if (-epsilon$1 < b && b < epsilon$1) {\n          return 0;\n        }\n      }\n\n      // check if they're flp equal\n      const ab = a - b;\n      if (ab * ab < EPSILON_SQ * a * b) {\n        return 0;\n      }\n\n      // normal comparison\n      return a < b ? -1 : 1;\n    };\n\n    /**\n     * This class rounds incoming values sufficiently so that\n     * floating points problems are, for the most part, avoided.\n     *\n     * Incoming points are have their x & y values tested against\n     * all previously seen x & y values. If either is 'too close'\n     * to a previously seen value, it's value is 'snapped' to the\n     * previously seen value.\n     *\n     * All points should be rounded by this class before being\n     * stored in any data structures in the rest of this algorithm.\n     */\n\n    class PtRounder {\n      constructor() {\n        this.reset();\n      }\n      reset() {\n        this.xRounder = new CoordRounder();\n        this.yRounder = new CoordRounder();\n      }\n      round(x, y) {\n        return {\n          x: this.xRounder.round(x),\n          y: this.yRounder.round(y)\n        };\n      }\n    }\n    class CoordRounder {\n      constructor() {\n        this.tree = new Tree();\n        // preseed with 0 so we don't end up with values < Number.EPSILON\n        this.round(0);\n      }\n\n      // Note: this can rounds input values backwards or forwards.\n      //       You might ask, why not restrict this to just rounding\n      //       forwards? Wouldn't that allow left endpoints to always\n      //       remain left endpoints during splitting (never change to\n      //       right). No - it wouldn't, because we snap intersections\n      //       to endpoints (to establish independence from the segment\n      //       angle for t-intersections).\n      round(coord) {\n        const node = this.tree.add(coord);\n        const prevNode = this.tree.prev(node);\n        if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n          this.tree.remove(coord);\n          return prevNode.key;\n        }\n        const nextNode = this.tree.next(node);\n        if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n          this.tree.remove(coord);\n          return nextNode.key;\n        }\n        return coord;\n      }\n    }\n\n    // singleton available by import\n    const rounder = new PtRounder();\n\n    const epsilon = 1.1102230246251565e-16;\n    const splitter = 134217729;\n    const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n    // fast_expansion_sum_zeroelim routine from oritinal code\n    function sum(elen, e, flen, f, h) {\n      let Q, Qnew, hh, bvirt;\n      let enow = e[0];\n      let fnow = f[0];\n      let eindex = 0;\n      let findex = 0;\n      if (fnow > enow === fnow > -enow) {\n        Q = enow;\n        enow = e[++eindex];\n      } else {\n        Q = fnow;\n        fnow = f[++findex];\n      }\n      let hindex = 0;\n      if (eindex < elen && findex < flen) {\n        if (fnow > enow === fnow > -enow) {\n          Qnew = enow + Q;\n          hh = Q - (Qnew - enow);\n          enow = e[++eindex];\n        } else {\n          Qnew = fnow + Q;\n          hh = Q - (Qnew - fnow);\n          fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n          h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n          if (fnow > enow === fnow > -enow) {\n            Qnew = Q + enow;\n            bvirt = Qnew - Q;\n            hh = Q - (Qnew - bvirt) + (enow - bvirt);\n            enow = e[++eindex];\n          } else {\n            Qnew = Q + fnow;\n            bvirt = Qnew - Q;\n            hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n            fnow = f[++findex];\n          }\n          Q = Qnew;\n          if (hh !== 0) {\n            h[hindex++] = hh;\n          }\n        }\n      }\n      while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n          h[hindex++] = hh;\n        }\n      }\n      while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n          h[hindex++] = hh;\n        }\n      }\n      if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n      }\n      return hindex;\n    }\n    function estimate(elen, e) {\n      let Q = e[0];\n      for (let i = 1; i < elen; i++) Q += e[i];\n      return Q;\n    }\n    function vec(n) {\n      return new Float64Array(n);\n    }\n\n    const ccwerrboundA = (3 + 16 * epsilon) * epsilon;\n    const ccwerrboundB = (2 + 12 * epsilon) * epsilon;\n    const ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n    const B = vec(4);\n    const C1 = vec(8);\n    const C2 = vec(12);\n    const D = vec(16);\n    const u = vec(4);\n    function orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n      let acxtail, acytail, bcxtail, bcytail;\n      let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n      const acx = ax - cx;\n      const bcx = bx - cx;\n      const acy = ay - cy;\n      const bcy = by - cy;\n      s1 = acx * bcy;\n      c = splitter * acx;\n      ahi = c - (c - acx);\n      alo = acx - ahi;\n      c = splitter * bcy;\n      bhi = c - (c - bcy);\n      blo = bcy - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = acy * bcx;\n      c = splitter * acy;\n      ahi = c - (c - acy);\n      alo = acy - ahi;\n      c = splitter * bcx;\n      bhi = c - (c - bcx);\n      blo = bcx - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      B[3] = u3;\n      let det = estimate(4, B);\n      let errbound = ccwerrboundB * detsum;\n      if (det >= errbound || -det >= errbound) {\n        return det;\n      }\n      bvirt = ax - acx;\n      acxtail = ax - (acx + bvirt) + (bvirt - cx);\n      bvirt = bx - bcx;\n      bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n      bvirt = ay - acy;\n      acytail = ay - (acy + bvirt) + (bvirt - cy);\n      bvirt = by - bcy;\n      bcytail = by - (bcy + bvirt) + (bvirt - cy);\n      if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n      }\n      errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n      det += acx * bcytail + bcy * acxtail - (acy * bcxtail + bcx * acytail);\n      if (det >= errbound || -det >= errbound) return det;\n      s1 = acxtail * bcy;\n      c = splitter * acxtail;\n      ahi = c - (c - acxtail);\n      alo = acxtail - ahi;\n      c = splitter * bcy;\n      bhi = c - (c - bcy);\n      blo = bcy - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = acytail * bcx;\n      c = splitter * acytail;\n      ahi = c - (c - acytail);\n      alo = acytail - ahi;\n      c = splitter * bcx;\n      bhi = c - (c - bcx);\n      blo = bcx - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      const C1len = sum(4, B, 4, u, C1);\n      s1 = acx * bcytail;\n      c = splitter * acx;\n      ahi = c - (c - acx);\n      alo = acx - ahi;\n      c = splitter * bcytail;\n      bhi = c - (c - bcytail);\n      blo = bcytail - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = acy * bcxtail;\n      c = splitter * acy;\n      ahi = c - (c - acy);\n      alo = acy - ahi;\n      c = splitter * bcxtail;\n      bhi = c - (c - bcxtail);\n      blo = bcxtail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      const C2len = sum(C1len, C1, 4, u, C2);\n      s1 = acxtail * bcytail;\n      c = splitter * acxtail;\n      ahi = c - (c - acxtail);\n      alo = acxtail - ahi;\n      c = splitter * bcytail;\n      bhi = c - (c - bcytail);\n      blo = bcytail - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = acytail * bcxtail;\n      c = splitter * acytail;\n      ahi = c - (c - acytail);\n      alo = acytail - ahi;\n      c = splitter * bcxtail;\n      bhi = c - (c - bcxtail);\n      blo = bcxtail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      const Dlen = sum(C2len, C2, 4, u, D);\n      return D[Dlen - 1];\n    }\n    function orient2d(ax, ay, bx, by, cx, cy) {\n      const detleft = (ay - cy) * (bx - cx);\n      const detright = (ax - cx) * (by - cy);\n      const det = detleft - detright;\n      const detsum = Math.abs(detleft + detright);\n      if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n      return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n    }\n\n    /* Cross Product of two vectors with first point at origin */\n    const crossProduct = (a, b) => a.x * b.y - a.y * b.x;\n\n    /* Dot Product of two vectors with first point at origin */\n    const dotProduct = (a, b) => a.x * b.x + a.y * b.y;\n\n    /* Comparator for two vectors with same starting point */\n    const compareVectorAngles = (basePt, endPt1, endPt2) => {\n      const res = orient2d(basePt.x, basePt.y, endPt1.x, endPt1.y, endPt2.x, endPt2.y);\n      if (res > 0) return -1;\n      if (res < 0) return 1;\n      return 0;\n    };\n    const length = v => Math.sqrt(dotProduct(v, v));\n\n    /* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\n    const sineOfAngle = (pShared, pBase, pAngle) => {\n      const vBase = {\n        x: pBase.x - pShared.x,\n        y: pBase.y - pShared.y\n      };\n      const vAngle = {\n        x: pAngle.x - pShared.x,\n        y: pAngle.y - pShared.y\n      };\n      return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n    };\n\n    /* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\n    const cosineOfAngle = (pShared, pBase, pAngle) => {\n      const vBase = {\n        x: pBase.x - pShared.x,\n        y: pBase.y - pShared.y\n      };\n      const vAngle = {\n        x: pAngle.x - pShared.x,\n        y: pAngle.y - pShared.y\n      };\n      return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n    };\n\n    /* Get the x coordinate where the given line (defined by a point and vector)\n     * crosses the horizontal line with the given y coordiante.\n     * In the case of parrallel lines (including overlapping ones) returns null. */\n    const horizontalIntersection = (pt, v, y) => {\n      if (v.y === 0) return null;\n      return {\n        x: pt.x + v.x / v.y * (y - pt.y),\n        y: y\n      };\n    };\n\n    /* Get the y coordinate where the given line (defined by a point and vector)\n     * crosses the vertical line with the given x coordiante.\n     * In the case of parrallel lines (including overlapping ones) returns null. */\n    const verticalIntersection = (pt, v, x) => {\n      if (v.x === 0) return null;\n      return {\n        x: x,\n        y: pt.y + v.y / v.x * (x - pt.x)\n      };\n    };\n\n    /* Get the intersection of two lines, each defined by a base point and a vector.\n     * In the case of parrallel lines (including overlapping ones) returns null. */\n    const intersection$1 = (pt1, v1, pt2, v2) => {\n      // take some shortcuts for vertical and horizontal lines\n      // this also ensures we don't calculate an intersection and then discover\n      // it's actually outside the bounding box of the line\n      if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n      if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n      if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n      if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y);\n\n      // General case for non-overlapping segments.\n      // This algorithm is based on Schneider and Eberly.\n      // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n      const kross = crossProduct(v1, v2);\n      if (kross == 0) return null;\n      const ve = {\n        x: pt2.x - pt1.x,\n        y: pt2.y - pt1.y\n      };\n      const d1 = crossProduct(ve, v1) / kross;\n      const d2 = crossProduct(ve, v2) / kross;\n\n      // take the average of the two calculations to minimize rounding error\n      const x1 = pt1.x + d2 * v1.x,\n        x2 = pt2.x + d1 * v2.x;\n      const y1 = pt1.y + d2 * v1.y,\n        y2 = pt2.y + d1 * v2.y;\n      const x = (x1 + x2) / 2;\n      const y = (y1 + y2) / 2;\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    class SweepEvent {\n      // for ordering sweep events in the sweep event queue\n      static compare(a, b) {\n        // favor event with a point that the sweep line hits first\n        const ptCmp = SweepEvent.comparePoints(a.point, b.point);\n        if (ptCmp !== 0) return ptCmp;\n\n        // the points are the same, so link them if needed\n        if (a.point !== b.point) a.link(b);\n\n        // favor right events over left\n        if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1;\n\n        // we have two matching left or right endpoints\n        // ordering of this case is the same as for their segments\n        return Segment.compare(a.segment, b.segment);\n      }\n\n      // for ordering points in sweep line order\n      static comparePoints(aPt, bPt) {\n        if (aPt.x < bPt.x) return -1;\n        if (aPt.x > bPt.x) return 1;\n        if (aPt.y < bPt.y) return -1;\n        if (aPt.y > bPt.y) return 1;\n        return 0;\n      }\n\n      // Warning: 'point' input will be modified and re-used (for performance)\n      constructor(point, isLeft) {\n        if (point.events === undefined) point.events = [this];else point.events.push(this);\n        this.point = point;\n        this.isLeft = isLeft;\n        // this.segment, this.otherSE set by factory\n      }\n      link(other) {\n        if (other.point === this.point) {\n          throw new Error(\"Tried to link already linked events\");\n        }\n        const otherEvents = other.point.events;\n        for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n          const evt = otherEvents[i];\n          this.point.events.push(evt);\n          evt.point = this.point;\n        }\n        this.checkForConsuming();\n      }\n\n      /* Do a pass over our linked events and check to see if any pair\n       * of segments match, and should be consumed. */\n      checkForConsuming() {\n        // FIXME: The loops in this method run O(n^2) => no good.\n        //        Maintain little ordered sweep event trees?\n        //        Can we maintaining an ordering that avoids the need\n        //        for the re-sorting with getLeftmostComparator in geom-out?\n\n        // Compare each pair of events to see if other events also match\n        const numEvents = this.point.events.length;\n        for (let i = 0; i < numEvents; i++) {\n          const evt1 = this.point.events[i];\n          if (evt1.segment.consumedBy !== undefined) continue;\n          for (let j = i + 1; j < numEvents; j++) {\n            const evt2 = this.point.events[j];\n            if (evt2.consumedBy !== undefined) continue;\n            if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n            evt1.segment.consume(evt2.segment);\n          }\n        }\n      }\n      getAvailableLinkedEvents() {\n        // point.events is always of length 2 or greater\n        const events = [];\n        for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n          const evt = this.point.events[i];\n          if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n            events.push(evt);\n          }\n        }\n        return events;\n      }\n\n      /**\n       * Returns a comparator function for sorting linked events that will\n       * favor the event that will give us the smallest left-side angle.\n       * All ring construction starts as low as possible heading to the right,\n       * so by always turning left as sharp as possible we'll get polygons\n       * without uncessary loops & holes.\n       *\n       * The comparator function has a compute cache such that it avoids\n       * re-computing already-computed values.\n       */\n      getLeftmostComparator(baseEvent) {\n        const cache = new Map();\n        const fillCache = linkedEvent => {\n          const nextEvent = linkedEvent.otherSE;\n          cache.set(linkedEvent, {\n            sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n            cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point)\n          });\n        };\n        return (a, b) => {\n          if (!cache.has(a)) fillCache(a);\n          if (!cache.has(b)) fillCache(b);\n          const {\n            sine: asine,\n            cosine: acosine\n          } = cache.get(a);\n          const {\n            sine: bsine,\n            cosine: bcosine\n          } = cache.get(b);\n\n          // both on or above x-axis\n          if (asine >= 0 && bsine >= 0) {\n            if (acosine < bcosine) return 1;\n            if (acosine > bcosine) return -1;\n            return 0;\n          }\n\n          // both below x-axis\n          if (asine < 0 && bsine < 0) {\n            if (acosine < bcosine) return -1;\n            if (acosine > bcosine) return 1;\n            return 0;\n          }\n\n          // one above x-axis, one below\n          if (bsine < asine) return -1;\n          if (bsine > asine) return 1;\n          return 0;\n        };\n      }\n    }\n\n    // Give segments unique ID's to get consistent sorting of\n    // segments and sweep events when all else is identical\n    let segmentId = 0;\n    class Segment {\n      /* This compare() function is for ordering segments in the sweep\n       * line tree, and does so according to the following criteria:\n       *\n       * Consider the vertical line that lies an infinestimal step to the\n       * right of the right-more of the two left endpoints of the input\n       * segments. Imagine slowly moving a point up from negative infinity\n       * in the increasing y direction. Which of the two segments will that\n       * point intersect first? That segment comes 'before' the other one.\n       *\n       * If neither segment would be intersected by such a line, (if one\n       * or more of the segments are vertical) then the line to be considered\n       * is directly on the right-more of the two left inputs.\n       */\n      static compare(a, b) {\n        const alx = a.leftSE.point.x;\n        const blx = b.leftSE.point.x;\n        const arx = a.rightSE.point.x;\n        const brx = b.rightSE.point.x;\n\n        // check if they're even in the same vertical plane\n        if (brx < alx) return 1;\n        if (arx < blx) return -1;\n        const aly = a.leftSE.point.y;\n        const bly = b.leftSE.point.y;\n        const ary = a.rightSE.point.y;\n        const bry = b.rightSE.point.y;\n\n        // is left endpoint of segment B the right-more?\n        if (alx < blx) {\n          // are the two segments in the same horizontal plane?\n          if (bly < aly && bly < ary) return 1;\n          if (bly > aly && bly > ary) return -1;\n\n          // is the B left endpoint colinear to segment A?\n          const aCmpBLeft = a.comparePoint(b.leftSE.point);\n          if (aCmpBLeft < 0) return 1;\n          if (aCmpBLeft > 0) return -1;\n\n          // is the A right endpoint colinear to segment B ?\n          const bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight;\n\n          // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n          return -1;\n        }\n\n        // is left endpoint of segment A the right-more?\n        if (alx > blx) {\n          if (aly < bly && aly < bry) return -1;\n          if (aly > bly && aly > bry) return 1;\n\n          // is the A left endpoint colinear to segment B?\n          const bCmpALeft = b.comparePoint(a.leftSE.point);\n          if (bCmpALeft !== 0) return bCmpALeft;\n\n          // is the B right endpoint colinear to segment A?\n          const aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1;\n\n          // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n          return 1;\n        }\n\n        // if we get here, the two left endpoints are in the same\n        // vertical plane, ie alx === blx\n\n        // consider the lower left-endpoint to come first\n        if (aly < bly) return -1;\n        if (aly > bly) return 1;\n\n        // left endpoints are identical\n        // check for colinearity by using the left-more right endpoint\n\n        // is the A right endpoint more left-more?\n        if (arx < brx) {\n          const bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight;\n        }\n\n        // is the B right endpoint more left-more?\n        if (arx > brx) {\n          const aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1;\n        }\n        if (arx !== brx) {\n          // are these two [almost] vertical segments with opposite orientation?\n          // if so, the one with the lower right endpoint comes first\n          const ay = ary - aly;\n          const ax = arx - alx;\n          const by = bry - bly;\n          const bx = brx - blx;\n          if (ay > ax && by < bx) return 1;\n          if (ay < ax && by > bx) return -1;\n        }\n\n        // we have colinear segments with matching orientation\n        // consider the one with more left-more right endpoint to be first\n        if (arx > brx) return 1;\n        if (arx < brx) return -1;\n\n        // if we get here, two two right endpoints are in the same\n        // vertical plane, ie arx === brx\n\n        // consider the lower right-endpoint to come first\n        if (ary < bry) return -1;\n        if (ary > bry) return 1;\n\n        // right endpoints identical as well, so the segments are idential\n        // fall back on creation order as consistent tie-breaker\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1;\n\n        // identical segment, ie a === b\n        return 0;\n      }\n\n      /* Warning: a reference to ringWindings input will be stored,\n       *  and possibly will be later modified */\n      constructor(leftSE, rightSE, rings, windings) {\n        this.id = ++segmentId;\n        this.leftSE = leftSE;\n        leftSE.segment = this;\n        leftSE.otherSE = rightSE;\n        this.rightSE = rightSE;\n        rightSE.segment = this;\n        rightSE.otherSE = leftSE;\n        this.rings = rings;\n        this.windings = windings;\n        // left unset for performance, set later in algorithm\n        // this.ringOut, this.consumedBy, this.prev\n      }\n      static fromRing(pt1, pt2, ring) {\n        let leftPt, rightPt, winding;\n\n        // ordering the two points according to sweep line ordering\n        const cmpPts = SweepEvent.comparePoints(pt1, pt2);\n        if (cmpPts < 0) {\n          leftPt = pt1;\n          rightPt = pt2;\n          winding = 1;\n        } else if (cmpPts > 0) {\n          leftPt = pt2;\n          rightPt = pt1;\n          winding = -1;\n        } else throw new Error(`Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`);\n        const leftSE = new SweepEvent(leftPt, true);\n        const rightSE = new SweepEvent(rightPt, false);\n        return new Segment(leftSE, rightSE, [ring], [winding]);\n      }\n\n      /* When a segment is split, the rightSE is replaced with a new sweep event */\n      replaceRightSE(newRightSE) {\n        this.rightSE = newRightSE;\n        this.rightSE.segment = this;\n        this.rightSE.otherSE = this.leftSE;\n        this.leftSE.otherSE = this.rightSE;\n      }\n      bbox() {\n        const y1 = this.leftSE.point.y;\n        const y2 = this.rightSE.point.y;\n        return {\n          ll: {\n            x: this.leftSE.point.x,\n            y: y1 < y2 ? y1 : y2\n          },\n          ur: {\n            x: this.rightSE.point.x,\n            y: y1 > y2 ? y1 : y2\n          }\n        };\n      }\n\n      /* A vector from the left point to the right */\n      vector() {\n        return {\n          x: this.rightSE.point.x - this.leftSE.point.x,\n          y: this.rightSE.point.y - this.leftSE.point.y\n        };\n      }\n      isAnEndpoint(pt) {\n        return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n      }\n\n      /* Compare this segment with a point.\n       *\n       * A point P is considered to be colinear to a segment if there\n       * exists a distance D such that if we travel along the segment\n       * from one * endpoint towards the other a distance D, we find\n       * ourselves at point P.\n       *\n       * Return value indicates:\n       *\n       *   1: point lies above the segment (to the left of vertical)\n       *   0: point is colinear to segment\n       *  -1: point lies below the segment (to the right of vertical)\n       */\n      comparePoint(point) {\n        if (this.isAnEndpoint(point)) return 0;\n        const lPt = this.leftSE.point;\n        const rPt = this.rightSE.point;\n        const v = this.vector();\n\n        // Exactly vertical segments.\n        if (lPt.x === rPt.x) {\n          if (point.x === lPt.x) return 0;\n          return point.x < lPt.x ? 1 : -1;\n        }\n\n        // Nearly vertical segments with an intersection.\n        // Check to see where a point on the line with matching Y coordinate is.\n        const yDist = (point.y - lPt.y) / v.y;\n        const xFromYDist = lPt.x + yDist * v.x;\n        if (point.x === xFromYDist) return 0;\n\n        // General case.\n        // Check to see where a point on the line with matching X coordinate is.\n        const xDist = (point.x - lPt.x) / v.x;\n        const yFromXDist = lPt.y + xDist * v.y;\n        if (point.y === yFromXDist) return 0;\n        return point.y < yFromXDist ? -1 : 1;\n      }\n\n      /**\n       * Given another segment, returns the first non-trivial intersection\n       * between the two segments (in terms of sweep line ordering), if it exists.\n       *\n       * A 'non-trivial' intersection is one that will cause one or both of the\n       * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n       *\n       *   * endpoint of segA with endpoint of segB --> trivial\n       *   * endpoint of segA with point along segB --> non-trivial\n       *   * endpoint of segB with point along segA --> non-trivial\n       *   * point along segA with point along segB --> non-trivial\n       *\n       * If no non-trivial intersection exists, return null\n       * Else, return null.\n       */\n      getIntersection(other) {\n        // If bboxes don't overlap, there can't be any intersections\n        const tBbox = this.bbox();\n        const oBbox = other.bbox();\n        const bboxOverlap = getBboxOverlap(tBbox, oBbox);\n        if (bboxOverlap === null) return null;\n\n        // We first check to see if the endpoints can be considered intersections.\n        // This will 'snap' intersections to endpoints if possible, and will\n        // handle cases of colinearity.\n\n        const tlp = this.leftSE.point;\n        const trp = this.rightSE.point;\n        const olp = other.leftSE.point;\n        const orp = other.rightSE.point;\n\n        // does each endpoint touch the other segment?\n        // note that we restrict the 'touching' definition to only allow segments\n        // to touch endpoints that lie forward from where we are in the sweep line pass\n        const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n        const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n        const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n        const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0;\n\n        // do left endpoints match?\n        if (touchesThisLSE && touchesOtherLSE) {\n          // these two cases are for colinear segments with matching left\n          // endpoints, and one segment being longer than the other\n          if (touchesThisRSE && !touchesOtherRSE) return trp;\n          if (!touchesThisRSE && touchesOtherRSE) return orp;\n          // either the two segments match exactly (two trival intersections)\n          // or just on their left endpoint (one trivial intersection\n          return null;\n        }\n\n        // does this left endpoint matches (other doesn't)\n        if (touchesThisLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesOtherRSE) {\n            if (tlp.x === orp.x && tlp.y === orp.y) return null;\n          }\n          // t-intersection on left endpoint\n          return tlp;\n        }\n\n        // does other left endpoint matches (this doesn't)\n        if (touchesOtherLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesThisRSE) {\n            if (trp.x === olp.x && trp.y === olp.y) return null;\n          }\n          // t-intersection on left endpoint\n          return olp;\n        }\n\n        // trivial intersection on right endpoints\n        if (touchesThisRSE && touchesOtherRSE) return null;\n\n        // t-intersections on just one right endpoint\n        if (touchesThisRSE) return trp;\n        if (touchesOtherRSE) return orp;\n\n        // None of our endpoints intersect. Look for a general intersection between\n        // infinite lines laid over the segments\n        const pt = intersection$1(tlp, this.vector(), olp, other.vector());\n\n        // are the segments parrallel? Note that if they were colinear with overlap,\n        // they would have an endpoint intersection and that case was already handled above\n        if (pt === null) return null;\n\n        // is the intersection found between the lines not on the segments?\n        if (!isInBbox(bboxOverlap, pt)) return null;\n\n        // round the the computed point if needed\n        return rounder.round(pt.x, pt.y);\n      }\n\n      /**\n       * Split the given segment into multiple segments on the given points.\n       *  * Each existing segment will retain its leftSE and a new rightSE will be\n       *    generated for it.\n       *  * A new segment will be generated which will adopt the original segment's\n       *    rightSE, and a new leftSE will be generated for it.\n       *  * If there are more than two points given to split on, new segments\n       *    in the middle will be generated with new leftSE and rightSE's.\n       *  * An array of the newly generated SweepEvents will be returned.\n       *\n       * Warning: input array of points is modified\n       */\n      split(point) {\n        const newEvents = [];\n        const alreadyLinked = point.events !== undefined;\n        const newLeftSE = new SweepEvent(point, true);\n        const newRightSE = new SweepEvent(point, false);\n        const oldRightSE = this.rightSE;\n        this.replaceRightSE(newRightSE);\n        newEvents.push(newRightSE);\n        newEvents.push(newLeftSE);\n        const newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice());\n\n        // when splitting a nearly vertical downward-facing segment,\n        // sometimes one of the resulting new segments is vertical, in which\n        // case its left and right events may need to be swapped\n        if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n          newSeg.swapEvents();\n        }\n        if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n          this.swapEvents();\n        }\n\n        // in the point we just used to create new sweep events with was already\n        // linked to other events, we need to check if either of the affected\n        // segments should be consumed\n        if (alreadyLinked) {\n          newLeftSE.checkForConsuming();\n          newRightSE.checkForConsuming();\n        }\n        return newEvents;\n      }\n\n      /* Swap which event is left and right */\n      swapEvents() {\n        const tmpEvt = this.rightSE;\n        this.rightSE = this.leftSE;\n        this.leftSE = tmpEvt;\n        this.leftSE.isLeft = true;\n        this.rightSE.isLeft = false;\n        for (let i = 0, iMax = this.windings.length; i < iMax; i++) {\n          this.windings[i] *= -1;\n        }\n      }\n\n      /* Consume another segment. We take their rings under our wing\n       * and mark them as consumed. Use for perfectly overlapping segments */\n      consume(other) {\n        let consumer = this;\n        let consumee = other;\n        while (consumer.consumedBy) consumer = consumer.consumedBy;\n        while (consumee.consumedBy) consumee = consumee.consumedBy;\n        const cmp = Segment.compare(consumer, consumee);\n        if (cmp === 0) return; // already consumed\n        // the winner of the consumption is the earlier segment\n        // according to sweep line ordering\n        if (cmp > 0) {\n          const tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        }\n\n        // make sure a segment doesn't consume it's prev\n        if (consumer.prev === consumee) {\n          const tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        }\n        for (let i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n          const ring = consumee.rings[i];\n          const winding = consumee.windings[i];\n          const index = consumer.rings.indexOf(ring);\n          if (index === -1) {\n            consumer.rings.push(ring);\n            consumer.windings.push(winding);\n          } else consumer.windings[index] += winding;\n        }\n        consumee.rings = null;\n        consumee.windings = null;\n        consumee.consumedBy = consumer;\n\n        // mark sweep events consumed as to maintain ordering in sweep event queue\n        consumee.leftSE.consumedBy = consumer.leftSE;\n        consumee.rightSE.consumedBy = consumer.rightSE;\n      }\n\n      /* The first segment previous segment chain that is in the result */\n      prevInResult() {\n        if (this._prevInResult !== undefined) return this._prevInResult;\n        if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n        return this._prevInResult;\n      }\n      beforeState() {\n        if (this._beforeState !== undefined) return this._beforeState;\n        if (!this.prev) this._beforeState = {\n          rings: [],\n          windings: [],\n          multiPolys: []\n        };else {\n          const seg = this.prev.consumedBy || this.prev;\n          this._beforeState = seg.afterState();\n        }\n        return this._beforeState;\n      }\n      afterState() {\n        if (this._afterState !== undefined) return this._afterState;\n        const beforeState = this.beforeState();\n        this._afterState = {\n          rings: beforeState.rings.slice(0),\n          windings: beforeState.windings.slice(0),\n          multiPolys: []\n        };\n        const ringsAfter = this._afterState.rings;\n        const windingsAfter = this._afterState.windings;\n        const mpsAfter = this._afterState.multiPolys;\n\n        // calculate ringsAfter, windingsAfter\n        for (let i = 0, iMax = this.rings.length; i < iMax; i++) {\n          const ring = this.rings[i];\n          const winding = this.windings[i];\n          const index = ringsAfter.indexOf(ring);\n          if (index === -1) {\n            ringsAfter.push(ring);\n            windingsAfter.push(winding);\n          } else windingsAfter[index] += winding;\n        }\n\n        // calcualte polysAfter\n        const polysAfter = [];\n        const polysExclude = [];\n        for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n          if (windingsAfter[i] === 0) continue; // non-zero rule\n          const ring = ringsAfter[i];\n          const poly = ring.poly;\n          if (polysExclude.indexOf(poly) !== -1) continue;\n          if (ring.isExterior) polysAfter.push(poly);else {\n            if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n            const index = polysAfter.indexOf(ring.poly);\n            if (index !== -1) polysAfter.splice(index, 1);\n          }\n        }\n\n        // calculate multiPolysAfter\n        for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n          const mp = polysAfter[i].multiPoly;\n          if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n        }\n        return this._afterState;\n      }\n\n      /* Is this segment part of the final result? */\n      isInResult() {\n        // if we've been consumed, we're not in the result\n        if (this.consumedBy) return false;\n        if (this._isInResult !== undefined) return this._isInResult;\n        const mpsBefore = this.beforeState().multiPolys;\n        const mpsAfter = this.afterState().multiPolys;\n        switch (operation.type) {\n          case \"union\":\n            {\n              // UNION - included iff:\n              //  * On one side of us there is 0 poly interiors AND\n              //  * On the other side there is 1 or more.\n              const noBefores = mpsBefore.length === 0;\n              const noAfters = mpsAfter.length === 0;\n              this._isInResult = noBefores !== noAfters;\n              break;\n            }\n          case \"intersection\":\n            {\n              // INTERSECTION - included iff:\n              //  * on one side of us all multipolys are rep. with poly interiors AND\n              //  * on the other side of us, not all multipolys are repsented\n              //    with poly interiors\n              let least;\n              let most;\n              if (mpsBefore.length < mpsAfter.length) {\n                least = mpsBefore.length;\n                most = mpsAfter.length;\n              } else {\n                least = mpsAfter.length;\n                most = mpsBefore.length;\n              }\n              this._isInResult = most === operation.numMultiPolys && least < most;\n              break;\n            }\n          case \"xor\":\n            {\n              // XOR - included iff:\n              //  * the difference between the number of multipolys represented\n              //    with poly interiors on our two sides is an odd number\n              const diff = Math.abs(mpsBefore.length - mpsAfter.length);\n              this._isInResult = diff % 2 === 1;\n              break;\n            }\n          case \"difference\":\n            {\n              // DIFFERENCE included iff:\n              //  * on exactly one side, we have just the subject\n              const isJustSubject = mps => mps.length === 1 && mps[0].isSubject;\n              this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n              break;\n            }\n          default:\n            throw new Error(`Unrecognized operation type found ${operation.type}`);\n        }\n        return this._isInResult;\n      }\n    }\n\n    class RingIn {\n      constructor(geomRing, poly, isExterior) {\n        if (!Array.isArray(geomRing) || geomRing.length === 0) {\n          throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n        }\n        this.poly = poly;\n        this.isExterior = isExterior;\n        this.segments = [];\n        if (typeof geomRing[0][0] !== \"number\" || typeof geomRing[0][1] !== \"number\") {\n          throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n        }\n        const firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n        this.bbox = {\n          ll: {\n            x: firstPoint.x,\n            y: firstPoint.y\n          },\n          ur: {\n            x: firstPoint.x,\n            y: firstPoint.y\n          }\n        };\n        let prevPoint = firstPoint;\n        for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n          if (typeof geomRing[i][0] !== \"number\" || typeof geomRing[i][1] !== \"number\") {\n            throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n          }\n          let point = rounder.round(geomRing[i][0], geomRing[i][1]);\n          // skip repeated points\n          if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n          this.segments.push(Segment.fromRing(prevPoint, point, this));\n          if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n          if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n          if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n          if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n          prevPoint = point;\n        }\n        // add segment from last to first if last is not the same as first\n        if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n          this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n        }\n      }\n      getSweepEvents() {\n        const sweepEvents = [];\n        for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n          const segment = this.segments[i];\n          sweepEvents.push(segment.leftSE);\n          sweepEvents.push(segment.rightSE);\n        }\n        return sweepEvents;\n      }\n    }\n    class PolyIn {\n      constructor(geomPoly, multiPoly) {\n        if (!Array.isArray(geomPoly)) {\n          throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n        }\n        this.exteriorRing = new RingIn(geomPoly[0], this, true);\n        // copy by value\n        this.bbox = {\n          ll: {\n            x: this.exteriorRing.bbox.ll.x,\n            y: this.exteriorRing.bbox.ll.y\n          },\n          ur: {\n            x: this.exteriorRing.bbox.ur.x,\n            y: this.exteriorRing.bbox.ur.y\n          }\n        };\n        this.interiorRings = [];\n        for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n          const ring = new RingIn(geomPoly[i], this, false);\n          if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n          if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n          if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n          if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n          this.interiorRings.push(ring);\n        }\n        this.multiPoly = multiPoly;\n      }\n      getSweepEvents() {\n        const sweepEvents = this.exteriorRing.getSweepEvents();\n        for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          const ringSweepEvents = this.interiorRings[i].getSweepEvents();\n          for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(ringSweepEvents[j]);\n          }\n        }\n        return sweepEvents;\n      }\n    }\n    class MultiPolyIn {\n      constructor(geom, isSubject) {\n        if (!Array.isArray(geom)) {\n          throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n        }\n        try {\n          // if the input looks like a polygon, convert it to a multipolygon\n          if (typeof geom[0][0][0] === \"number\") geom = [geom];\n        } catch (ex) {\n          // The input is either malformed or has empty arrays.\n          // In either case, it will be handled later on.\n        }\n        this.polys = [];\n        this.bbox = {\n          ll: {\n            x: Number.POSITIVE_INFINITY,\n            y: Number.POSITIVE_INFINITY\n          },\n          ur: {\n            x: Number.NEGATIVE_INFINITY,\n            y: Number.NEGATIVE_INFINITY\n          }\n        };\n        for (let i = 0, iMax = geom.length; i < iMax; i++) {\n          const poly = new PolyIn(geom[i], this);\n          if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n          if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n          if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n          if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n          this.polys.push(poly);\n        }\n        this.isSubject = isSubject;\n      }\n      getSweepEvents() {\n        const sweepEvents = [];\n        for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n          const polySweepEvents = this.polys[i].getSweepEvents();\n          for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(polySweepEvents[j]);\n          }\n        }\n        return sweepEvents;\n      }\n    }\n\n    class RingOut {\n      /* Given the segments from the sweep line pass, compute & return a series\n       * of closed rings from all the segments marked to be part of the result */\n      static factory(allSegments) {\n        const ringsOut = [];\n        for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n          const segment = allSegments[i];\n          if (!segment.isInResult() || segment.ringOut) continue;\n          let prevEvent = null;\n          let event = segment.leftSE;\n          let nextEvent = segment.rightSE;\n          const events = [event];\n          const startingPoint = event.point;\n          const intersectionLEs = [];\n\n          /* Walk the chain of linked events to form a closed ring */\n          while (true) {\n            prevEvent = event;\n            event = nextEvent;\n            events.push(event);\n\n            /* Is the ring complete? */\n            if (event.point === startingPoint) break;\n            while (true) {\n              const availableLEs = event.getAvailableLinkedEvents();\n\n              /* Did we hit a dead end? This shouldn't happen.\n               * Indicates some earlier part of the algorithm malfunctioned. */\n              if (availableLEs.length === 0) {\n                const firstPt = events[0].point;\n                const lastPt = events[events.length - 1].point;\n                throw new Error(`Unable to complete output ring starting at [${firstPt.x},` + ` ${firstPt.y}]. Last matching segment found ends at` + ` [${lastPt.x}, ${lastPt.y}].`);\n              }\n\n              /* Only one way to go, so cotinue on the path */\n              if (availableLEs.length === 1) {\n                nextEvent = availableLEs[0].otherSE;\n                break;\n              }\n\n              /* We must have an intersection. Check for a completed loop */\n              let indexLE = null;\n              for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n                if (intersectionLEs[j].point === event.point) {\n                  indexLE = j;\n                  break;\n                }\n              }\n              /* Found a completed loop. Cut that off and make a ring */\n              if (indexLE !== null) {\n                const intersectionLE = intersectionLEs.splice(indexLE)[0];\n                const ringEvents = events.splice(intersectionLE.index);\n                ringEvents.unshift(ringEvents[0].otherSE);\n                ringsOut.push(new RingOut(ringEvents.reverse()));\n                continue;\n              }\n              /* register the intersection */\n              intersectionLEs.push({\n                index: events.length,\n                point: event.point\n              });\n              /* Choose the left-most option to continue the walk */\n              const comparator = event.getLeftmostComparator(prevEvent);\n              nextEvent = availableLEs.sort(comparator)[0].otherSE;\n              break;\n            }\n          }\n          ringsOut.push(new RingOut(events));\n        }\n        return ringsOut;\n      }\n      constructor(events) {\n        this.events = events;\n        for (let i = 0, iMax = events.length; i < iMax; i++) {\n          events[i].segment.ringOut = this;\n        }\n        this.poly = null;\n      }\n      getGeom() {\n        // Remove superfluous points (ie extra points along a straight line),\n        let prevPt = this.events[0].point;\n        const points = [prevPt];\n        for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n          const pt = this.events[i].point;\n          const nextPt = this.events[i + 1].point;\n          if (compareVectorAngles(pt, prevPt, nextPt) === 0) continue;\n          points.push(pt);\n          prevPt = pt;\n        }\n\n        // ring was all (within rounding error of angle calc) colinear points\n        if (points.length === 1) return null;\n\n        // check if the starting point is necessary\n        const pt = points[0];\n        const nextPt = points[1];\n        if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n        points.push(points[0]);\n        const step = this.isExteriorRing() ? 1 : -1;\n        const iStart = this.isExteriorRing() ? 0 : points.length - 1;\n        const iEnd = this.isExteriorRing() ? points.length : -1;\n        const orderedPoints = [];\n        for (let i = iStart; i != iEnd; i += step) orderedPoints.push([points[i].x, points[i].y]);\n        return orderedPoints;\n      }\n      isExteriorRing() {\n        if (this._isExteriorRing === undefined) {\n          const enclosing = this.enclosingRing();\n          this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n        }\n        return this._isExteriorRing;\n      }\n      enclosingRing() {\n        if (this._enclosingRing === undefined) {\n          this._enclosingRing = this._calcEnclosingRing();\n        }\n        return this._enclosingRing;\n      }\n\n      /* Returns the ring that encloses this one, if any */\n      _calcEnclosingRing() {\n        // start with the ealier sweep line event so that the prevSeg\n        // chain doesn't lead us inside of a loop of ours\n        let leftMostEvt = this.events[0];\n        for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n          const evt = this.events[i];\n          if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n        }\n        let prevSeg = leftMostEvt.segment.prevInResult();\n        let prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        while (true) {\n          // no segment found, thus no ring can enclose us\n          if (!prevSeg) return null;\n\n          // no segments below prev segment found, thus the ring of the prev\n          // segment must loop back around and enclose us\n          if (!prevPrevSeg) return prevSeg.ringOut;\n\n          // if the two segments are of different rings, the ring of the prev\n          // segment must either loop around us or the ring of the prev prev\n          // seg, which would make us and the ring of the prev peers\n          if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n            if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n              return prevSeg.ringOut;\n            } else return prevSeg.ringOut.enclosingRing();\n          }\n\n          // two segments are from the same ring, so this was a penisula\n          // of that ring. iterate downward, keep searching\n          prevSeg = prevPrevSeg.prevInResult();\n          prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        }\n      }\n    }\n    class PolyOut {\n      constructor(exteriorRing) {\n        this.exteriorRing = exteriorRing;\n        exteriorRing.poly = this;\n        this.interiorRings = [];\n      }\n      addInterior(ring) {\n        this.interiorRings.push(ring);\n        ring.poly = this;\n      }\n      getGeom() {\n        const geom = [this.exteriorRing.getGeom()];\n        // exterior ring was all (within rounding error of angle calc) colinear points\n        if (geom[0] === null) return null;\n        for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          const ringGeom = this.interiorRings[i].getGeom();\n          // interior ring was all (within rounding error of angle calc) colinear points\n          if (ringGeom === null) continue;\n          geom.push(ringGeom);\n        }\n        return geom;\n      }\n    }\n    class MultiPolyOut {\n      constructor(rings) {\n        this.rings = rings;\n        this.polys = this._composePolys(rings);\n      }\n      getGeom() {\n        const geom = [];\n        for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n          const polyGeom = this.polys[i].getGeom();\n          // exterior ring was all (within rounding error of angle calc) colinear points\n          if (polyGeom === null) continue;\n          geom.push(polyGeom);\n        }\n        return geom;\n      }\n      _composePolys(rings) {\n        const polys = [];\n        for (let i = 0, iMax = rings.length; i < iMax; i++) {\n          const ring = rings[i];\n          if (ring.poly) continue;\n          if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n            const enclosingRing = ring.enclosingRing();\n            if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n            enclosingRing.poly.addInterior(ring);\n          }\n        }\n        return polys;\n      }\n    }\n\n    /**\n     * NOTE:  We must be careful not to change any segments while\n     *        they are in the SplayTree. AFAIK, there's no way to tell\n     *        the tree to rebalance itself - thus before splitting\n     *        a segment that's in the tree, we remove it from the tree,\n     *        do the split, then re-insert it. (Even though splitting a\n     *        segment *shouldn't* change its correct position in the\n     *        sweep line tree, the reality is because of rounding errors,\n     *        it sometimes does.)\n     */\n\n    class SweepLine {\n      constructor(queue) {\n        let comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n        this.queue = queue;\n        this.tree = new Tree(comparator);\n        this.segments = [];\n      }\n      process(event) {\n        const segment = event.segment;\n        const newEvents = [];\n\n        // if we've already been consumed by another segment,\n        // clean up our body parts and get out\n        if (event.consumedBy) {\n          if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n          return newEvents;\n        }\n        const node = event.isLeft ? this.tree.add(segment) : this.tree.find(segment);\n        if (!node) throw new Error(`Unable to find segment #${segment.id} ` + `[${segment.leftSE.point.x}, ${segment.leftSE.point.y}] -> ` + `[${segment.rightSE.point.x}, ${segment.rightSE.point.y}] ` + \"in SweepLine tree.\");\n        let prevNode = node;\n        let nextNode = node;\n        let prevSeg = undefined;\n        let nextSeg = undefined;\n\n        // skip consumed segments still in tree\n        while (prevSeg === undefined) {\n          prevNode = this.tree.prev(prevNode);\n          if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n        }\n\n        // skip consumed segments still in tree\n        while (nextSeg === undefined) {\n          nextNode = this.tree.next(nextNode);\n          if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n        }\n        if (event.isLeft) {\n          // Check for intersections against the previous segment in the sweep line\n          let prevMySplitter = null;\n          if (prevSeg) {\n            const prevInter = prevSeg.getIntersection(segment);\n            if (prevInter !== null) {\n              if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n              if (!prevSeg.isAnEndpoint(prevInter)) {\n                const newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n                for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          }\n\n          // Check for intersections against the next segment in the sweep line\n          let nextMySplitter = null;\n          if (nextSeg) {\n            const nextInter = nextSeg.getIntersection(segment);\n            if (nextInter !== null) {\n              if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n              if (!nextSeg.isAnEndpoint(nextInter)) {\n                const newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n                for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          }\n\n          // For simplicity, even if we find more than one intersection we only\n          // spilt on the 'earliest' (sweep-line style) of the intersections.\n          // The other intersection will be handled in a future process().\n          if (prevMySplitter !== null || nextMySplitter !== null) {\n            let mySplitter = null;\n            if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n              const cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n              mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n            }\n\n            // Rounding errors can cause changes in ordering,\n            // so remove afected segments and right sweep events before splitting\n            this.queue.remove(segment.rightSE);\n            newEvents.push(segment.rightSE);\n            const newEventsFromSplit = segment.split(mySplitter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n          if (newEvents.length > 0) {\n            // We found some intersections, so re-do the current event to\n            // make sure sweep line ordering is totally consistent for later\n            // use with the segment 'prev' pointers\n            this.tree.remove(segment);\n            newEvents.push(event);\n          } else {\n            // done with left event\n            this.segments.push(segment);\n            segment.prev = prevSeg;\n          }\n        } else {\n          // event.isRight\n\n          // since we're about to be removed from the sweep line, check for\n          // intersections between our previous and next segments\n          if (prevSeg && nextSeg) {\n            const inter = prevSeg.getIntersection(nextSeg);\n            if (inter !== null) {\n              if (!prevSeg.isAnEndpoint(inter)) {\n                const newEventsFromSplit = this._splitSafely(prevSeg, inter);\n                for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n              if (!nextSeg.isAnEndpoint(inter)) {\n                const newEventsFromSplit = this._splitSafely(nextSeg, inter);\n                for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          }\n          this.tree.remove(segment);\n        }\n        return newEvents;\n      }\n\n      /* Safely split a segment that is currently in the datastructures\n       * IE - a segment other than the one that is currently being processed. */\n      _splitSafely(seg, pt) {\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        // removeNode() doesn't work, so have re-find the seg\n        // https://github.com/w8r/splay-tree/pull/5\n        this.tree.remove(seg);\n        const rightSE = seg.rightSE;\n        this.queue.remove(rightSE);\n        const newEvents = seg.split(pt);\n        newEvents.push(rightSE);\n        // splitting can trigger consumption\n        if (seg.consumedBy === undefined) this.tree.add(seg);\n        return newEvents;\n      }\n    }\n\n    // Limits on iterative processes to prevent infinite loops - usually caused by floating-point math round-off errors.\n    const POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\n    const POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\n    class Operation {\n      run(type, geom, moreGeoms) {\n        operation.type = type;\n        rounder.reset();\n\n        /* Convert inputs to MultiPoly objects */\n        const multipolys = [new MultiPolyIn(geom, true)];\n        for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n          multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n        }\n        operation.numMultiPolys = multipolys.length;\n\n        /* BBox optimization for difference operation\n         * If the bbox of a multipolygon that's part of the clipping doesn't\n         * intersect the bbox of the subject at all, we can just drop that\n         * multiploygon. */\n        if (operation.type === \"difference\") {\n          // in place removal\n          const subject = multipolys[0];\n          let i = 1;\n          while (i < multipolys.length) {\n            if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++;else multipolys.splice(i, 1);\n          }\n        }\n\n        /* BBox optimization for intersection operation\n         * If we can find any pair of multipolygons whose bbox does not overlap,\n         * then the result will be empty. */\n        if (operation.type === \"intersection\") {\n          // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n          //       it could be optimized to O(n * ln(n))\n          for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n            const mpA = multipolys[i];\n            for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n              if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n            }\n          }\n        }\n\n        /* Put segment endpoints in a priority queue */\n        const queue = new Tree(SweepEvent.compare);\n        for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n          const sweepEvents = multipolys[i].getSweepEvents();\n          for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n            queue.insert(sweepEvents[j]);\n            if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n              // prevents an infinite loop, an otherwise common manifestation of bugs\n              throw new Error(\"Infinite loop when putting segment endpoints in a priority queue \" + \"(queue size too big).\");\n            }\n          }\n        }\n\n        /* Pass the sweep line over those endpoints */\n        const sweepLine = new SweepLine(queue);\n        let prevQueueSize = queue.size;\n        let node = queue.pop();\n        while (node) {\n          const evt = node.key;\n          if (queue.size === prevQueueSize) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            const seg = evt.segment;\n            throw new Error(`Unable to pop() ${evt.isLeft ? \"left\" : \"right\"} SweepEvent ` + `[${evt.point.x}, ${evt.point.y}] from segment #${seg.id} ` + `[${seg.leftSE.point.x}, ${seg.leftSE.point.y}] -> ` + `[${seg.rightSE.point.x}, ${seg.rightSE.point.y}] from queue.`);\n          }\n          if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(queue size too big).\");\n          }\n          if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(too many sweep line segments).\");\n          }\n          const newEvents = sweepLine.process(evt);\n          for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n            const evt = newEvents[i];\n            if (evt.consumedBy === undefined) queue.insert(evt);\n          }\n          prevQueueSize = queue.size;\n          node = queue.pop();\n        }\n\n        // free some memory we don't need anymore\n        rounder.reset();\n\n        /* Collect and compile segments we're keeping into a multipolygon */\n        const ringsOut = RingOut.factory(sweepLine.segments);\n        const result = new MultiPolyOut(ringsOut);\n        return result.getGeom();\n      }\n    }\n\n    // singleton available by import\n    const operation = new Operation();\n\n    const union = function (geom) {\n      for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        moreGeoms[_key - 1] = arguments[_key];\n      }\n      return operation.run(\"union\", geom, moreGeoms);\n    };\n    const intersection = function (geom) {\n      for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        moreGeoms[_key2 - 1] = arguments[_key2];\n      }\n      return operation.run(\"intersection\", geom, moreGeoms);\n    };\n    const xor = function (geom) {\n      for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        moreGeoms[_key3 - 1] = arguments[_key3];\n      }\n      return operation.run(\"xor\", geom, moreGeoms);\n    };\n    const difference = function (subjectGeom) {\n      for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        clippingGeoms[_key4 - 1] = arguments[_key4];\n      }\n      return operation.run(\"difference\", subjectGeom, clippingGeoms);\n    };\n    var index = {\n      union: union,\n      intersection: intersection,\n      xor: xor,\n      difference: difference\n    };\n\n    return index;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\nfunction azimuthToBearing(angle) {\n  angle = angle % 360;\n  if (angle > 0)\n    return angle > 180 ? angle - 360 : angle;\n  return angle < -180 ? angle + 360 : angle;\n}\nfunction radiansToDegrees(radians) {\n  const degrees = radians % (2 * Math.PI);\n  return degrees * 180 / Math.PI;\n}\nfunction degreesToRadians(degrees) {\n  const radians = degrees % 360;\n  return radians * Math.PI / 180;\n}\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\nexport {\n  areaFactors,\n  azimuthToBearing,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { polygon } from \"@turf/helpers\";\nfunction bboxPolygon(bbox, options = {}) {\n  const west = Number(bbox[0]);\n  const south = Number(bbox[1]);\n  const east = Number(bbox[2]);\n  const north = Number(bbox[3]);\n  if (bbox.length === 6) {\n    throw new Error(\n      \"@turf/bbox-polygon does not support BBox with 6 positions\"\n    );\n  }\n  const lowLeft = [west, south];\n  const topLeft = [west, north];\n  const topRight = [east, north];\n  const lowRight = [east, south];\n  return polygon(\n    [[lowLeft, lowRight, topRight, topLeft, lowLeft]],\n    options.properties,\n    { bbox, id: options.id }\n  );\n}\nvar turf_bbox_polygon_default = bboxPolygon;\nexport {\n  bboxPolygon,\n  turf_bbox_polygon_default as default\n};\n//# sourceMappingURL=index.js.map","function pointInPolygon(p, polygon) {\n    var i = 0;\n    var ii = 0;\n    var k = 0;\n    var f = 0;\n    var u1 = 0;\n    var v1 = 0;\n    var u2 = 0;\n    var v2 = 0;\n    var currentP = null;\n    var nextP = null;\n\n    var x = p[0];\n    var y = p[1];\n\n    var numContours = polygon.length;\n    for (i; i < numContours; i++) {\n        ii = 0;\n        var contourLen = polygon[i].length - 1;\n        var contour = polygon[i];\n\n        currentP = contour[0];\n        if (currentP[0] !== contour[contourLen][0] &&\n            currentP[1] !== contour[contourLen][1]) {\n            throw new Error('First and last coordinates in a ring must be the same')\n        }\n\n        u1 = currentP[0] - x;\n        v1 = currentP[1] - y;\n\n        for (ii; ii < contourLen; ii++) {\n            nextP = contour[ii + 1];\n\n            v2 = nextP[1] - y;\n\n            if ((v1 < 0 && v2 < 0) || (v1 > 0 && v2 > 0)) {\n                currentP = nextP;\n                v1 = v2;\n                u1 = currentP[0] - x;\n                continue\n            }\n\n            u2 = nextP[0] - p[0];\n\n            if (v2 > 0 && v1 <= 0) {\n                f = (u1 * v2) - (u2 * v1);\n                if (f > 0) { k = k + 1; }\n                else if (f === 0) { return 0 }\n            } else if (v1 > 0 && v2 <= 0) {\n                f = (u1 * v2) - (u2 * v1);\n                if (f < 0) { k = k + 1; }\n                else if (f === 0) { return 0 }\n            } else if (v2 === 0 && v1 < 0) {\n                f = (u1 * v2) - (u2 * v1);\n                if (f === 0) { return 0 }\n            } else if (v1 === 0 && v2 < 0) {\n                f = u1 * v2 - u2 * v1;\n                if (f === 0) { return 0 }\n            } else if (v1 === 0 && v2 === 0) {\n                if (u2 <= 0 && u1 >= 0) {\n                    return 0\n                } else if (u1 <= 0 && u2 >= 0) {\n                    return 0\n                }\n            }\n            currentP = nextP;\n            v1 = v2;\n            u1 = u2;\n        }\n    }\n\n    if (k % 2 === 0) { return false }\n    return true\n}\n\nexport default pointInPolygon;\n","// index.ts\nimport { isNumber } from \"@turf/helpers\";\nfunction getCoord(coord) {\n  if (!coord) {\n    throw new Error(\"coord is required\");\n  }\n  if (!Array.isArray(coord)) {\n    if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\n      return [...coord.geometry.coordinates];\n    }\n    if (coord.type === \"Point\") {\n      return [...coord.coordinates];\n    }\n  }\n  if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\n    return [...coord];\n  }\n  throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nfunction getCoords(coords) {\n  if (Array.isArray(coords)) {\n    return coords;\n  }\n  if (coords.type === \"Feature\") {\n    if (coords.geometry !== null) {\n      return coords.geometry.coordinates;\n    }\n  } else {\n    if (coords.coordinates) {\n      return coords.coordinates;\n    }\n  }\n  throw new Error(\n    \"coords must be GeoJSON Feature, Geometry Object or an Array\"\n  );\n}\nfunction containsNumber(coordinates) {\n  if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n    return true;\n  }\n  if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n    return containsNumber(coordinates[0]);\n  }\n  throw new Error(\"coordinates must only contain numbers\");\n}\nfunction geojsonType(value, type, name) {\n  if (!type || !name) {\n    throw new Error(\"type and name required\");\n  }\n  if (!value || value.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type\n    );\n  }\n}\nfunction featureOf(feature, type, name) {\n  if (!feature) {\n    throw new Error(\"No feature passed\");\n  }\n  if (!name) {\n    throw new Error(\".featureOf() requires a name\");\n  }\n  if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n    throw new Error(\n      \"Invalid input to \" + name + \", Feature with geometry required\"\n    );\n  }\n  if (!feature.geometry || feature.geometry.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n    );\n  }\n}\nfunction collectionOf(featureCollection, type, name) {\n  if (!featureCollection) {\n    throw new Error(\"No featureCollection passed\");\n  }\n  if (!name) {\n    throw new Error(\".collectionOf() requires a name\");\n  }\n  if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n    throw new Error(\n      \"Invalid input to \" + name + \", FeatureCollection required\"\n    );\n  }\n  for (const feature of featureCollection.features) {\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n      throw new Error(\n        \"Invalid input to \" + name + \", Feature with geometry required\"\n      );\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n      throw new Error(\n        \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n      );\n    }\n  }\n}\nfunction getGeom(geojson) {\n  if (geojson.type === \"Feature\") {\n    return geojson.geometry;\n  }\n  return geojson;\n}\nfunction getType(geojson, _name) {\n  if (geojson.type === \"FeatureCollection\") {\n    return \"FeatureCollection\";\n  }\n  if (geojson.type === \"GeometryCollection\") {\n    return \"GeometryCollection\";\n  }\n  if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n    return geojson.geometry.type;\n  }\n  return geojson.type;\n}\nexport {\n  collectionOf,\n  containsNumber,\n  featureOf,\n  geojsonType,\n  getCoord,\n  getCoords,\n  getGeom,\n  getType\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport pip from \"point-in-polygon-hao\";\nimport { getCoord, getGeom } from \"@turf/invariant\";\nfunction booleanPointInPolygon(point, polygon, options = {}) {\n  if (!point) {\n    throw new Error(\"point is required\");\n  }\n  if (!polygon) {\n    throw new Error(\"polygon is required\");\n  }\n  const pt = getCoord(point);\n  const geom = getGeom(polygon);\n  const type = geom.type;\n  const bbox = polygon.bbox;\n  let polys = geom.coordinates;\n  if (bbox && inBBox(pt, bbox) === false) {\n    return false;\n  }\n  if (type === \"Polygon\") {\n    polys = [polys];\n  }\n  let result = false;\n  for (var i = 0; i < polys.length; ++i) {\n    const polyResult = pip(pt, polys[i]);\n    if (polyResult === 0)\n      return options.ignoreBoundary ? false : true;\n    else if (polyResult)\n      result = true;\n  }\n  return result;\n}\nfunction inBBox(pt, bbox) {\n  return bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1];\n}\nvar turf_boolean_point_in_polygon_default = booleanPointInPolygon;\nexport {\n  booleanPointInPolygon,\n  turf_boolean_point_in_polygon_default as default\n};\n//# sourceMappingURL=index.js.map","class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction checkWhichEventIsLeft (e1, e2) {\n    if (e1.p.x > e2.p.x) return 1\n    if (e1.p.x < e2.p.x) return -1\n\n    if (e1.p.y !== e2.p.y) return e1.p.y > e2.p.y ? 1 : -1\n    return 1\n}\n\nfunction checkWhichSegmentHasRightEndpointFirst (seg1, seg2) {\n    if (seg1.rightSweepEvent.p.x > seg2.rightSweepEvent.p.x) return 1\n    if (seg1.rightSweepEvent.p.x < seg2.rightSweepEvent.p.x) return -1\n\n    if (seg1.rightSweepEvent.p.y !== seg2.rightSweepEvent.p.y) return seg1.rightSweepEvent.p.y < seg2.rightSweepEvent.p.y ? 1 : -1\n    return 1\n}\n\nclass Event {\n\n    constructor (p, featureId, ringId, eventId) {\n        this.p = {\n            x: p[0],\n            y: p[1]\n        };\n        this.featureId = featureId;\n        this.ringId = ringId;\n        this.eventId = eventId;\n\n        this.otherEvent = null;\n        this.isLeftEndpoint = null;\n    }\n\n    isSamePoint (eventToCheck) {\n        return this.p.x === eventToCheck.p.x && this.p.y === eventToCheck.p.y\n    }\n}\n\nfunction fillEventQueue (geojson, eventQueue) {\n    if (geojson.type === 'FeatureCollection') {\n        const features = geojson.features;\n        for (let i = 0; i < features.length; i++) {\n            processFeature(features[i], eventQueue);\n        }\n    } else {\n        processFeature(geojson, eventQueue);\n    }\n}\n\nlet featureId = 0;\nlet ringId = 0;\nlet eventId = 0;\nfunction processFeature (featureOrGeometry, eventQueue) {\n    const geom = featureOrGeometry.type === 'Feature' ? featureOrGeometry.geometry : featureOrGeometry;\n    let coords = geom.coordinates;\n    // standardise the input\n    if (geom.type === 'Polygon' || geom.type === 'MultiLineString') coords = [coords];\n    if (geom.type === 'LineString') coords = [[coords]];\n\n    for (let i = 0; i < coords.length; i++) {\n        for (let ii = 0; ii < coords[i].length; ii++) {\n            let currentP = coords[i][ii][0];\n            let nextP = null;\n            ringId = ringId + 1;\n            for (let iii = 0; iii < coords[i][ii].length - 1; iii++) {\n                nextP = coords[i][ii][iii + 1];\n\n                const e1 = new Event(currentP, featureId, ringId, eventId);\n                const e2 = new Event(nextP, featureId, ringId, eventId + 1);\n\n                e1.otherEvent = e2;\n                e2.otherEvent = e1;\n\n                if (checkWhichEventIsLeft(e1, e2) > 0) {\n                    e2.isLeftEndpoint = true;\n                    e1.isLeftEndpoint = false;\n                } else {\n                    e1.isLeftEndpoint = true;\n                    e2.isLeftEndpoint = false;\n                }\n                eventQueue.push(e1);\n                eventQueue.push(e2);\n\n                currentP = nextP;\n                eventId = eventId + 1;\n            }\n        }\n    }\n    featureId = featureId + 1;\n}\n\nclass Segment {\n\n    constructor (event) {\n        this.leftSweepEvent = event;\n        this.rightSweepEvent = event.otherEvent;\n    }\n}\n\nfunction testSegmentIntersect (seg1, seg2) {\n    if (seg1 === null || seg2 === null) return false\n\n    if (seg1.leftSweepEvent.ringId === seg2.leftSweepEvent.ringId &&\n        (seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.rightSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.rightSweepEvent))) return false\n\n    const x1 = seg1.leftSweepEvent.p.x;\n    const y1 = seg1.leftSweepEvent.p.y;\n    const x2 = seg1.rightSweepEvent.p.x;\n    const y2 = seg1.rightSweepEvent.p.y;\n    const x3 = seg2.leftSweepEvent.p.x;\n    const y3 = seg2.leftSweepEvent.p.y;\n    const x4 = seg2.rightSweepEvent.p.x;\n    const y4 = seg2.rightSweepEvent.p.y;\n\n    const denom = ((y4 - y3) * (x2 - x1)) - ((x4 - x3) * (y2 - y1));\n    const numeA = ((x4 - x3) * (y1 - y3)) - ((y4 - y3) * (x1 - x3));\n    const numeB = ((x2 - x1) * (y1 - y3)) - ((y2 - y1) * (x1 - x3));\n\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) return false\n        return false\n    }\n\n    const uA = numeA / denom;\n    const uB = numeB / denom;\n\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        const x = x1 + (uA * (x2 - x1));\n        const y = y1 + (uA * (y2 - y1));\n        return [x, y]\n    }\n    return false\n}\n\n// import {debugEventAndSegments, debugRemovingSegment} from './debug'\n\nfunction runCheck (eventQueue, ignoreSelfIntersections) {\n    ignoreSelfIntersections = ignoreSelfIntersections ? ignoreSelfIntersections : false;\n\n    const intersectionPoints = [];\n    const outQueue = new TinyQueue([], checkWhichSegmentHasRightEndpointFirst);\n\n    while (eventQueue.length) {\n        const event = eventQueue.pop();\n        if (event.isLeftEndpoint) {\n            // debugEventAndSegments(event.p, outQueue.data)\n            const segment = new Segment(event);\n            for (let i = 0; i < outQueue.data.length; i++) {\n                const otherSeg = outQueue.data[i];\n                if (ignoreSelfIntersections) {\n                    if (otherSeg.leftSweepEvent.featureId === event.featureId) continue\n                }\n                const intersection = testSegmentIntersect(segment, otherSeg);\n                if (intersection !== false) intersectionPoints.push(intersection);\n            }\n            outQueue.push(segment);\n        } else if (event.isLeftEndpoint === false) {\n            outQueue.pop();\n            // const seg = outQueue.pop()\n            // debugRemovingSegment(event.p, seg)\n        }\n    }\n    return intersectionPoints\n}\n\nfunction sweeplineIntersections (geojson, ignoreSelfIntersections) {\n    const eventQueue = new TinyQueue([], checkWhichEventIsLeft);\n    fillEventQueue(geojson, eventQueue);\n    return runCheck(eventQueue, ignoreSelfIntersections)\n}\n\nexport default sweeplineIntersections;\n","// index.ts\nimport { feature, featureCollection, point } from \"@turf/helpers\";\n\n// lib/sweepline-intersections-export.ts\nimport lib from \"sweepline-intersections\";\nvar sweeplineIntersections = lib;\n\n// index.ts\nfunction lineIntersect(line1, line2, options = {}) {\n  const { removeDuplicates = true, ignoreSelfIntersections = false } = options;\n  let features = [];\n  if (line1.type === \"FeatureCollection\")\n    features = features.concat(line1.features);\n  else if (line1.type === \"Feature\")\n    features.push(line1);\n  else if (line1.type === \"LineString\" || line1.type === \"Polygon\" || line1.type === \"MultiLineString\" || line1.type === \"MultiPolygon\") {\n    features.push(feature(line1));\n  }\n  if (line2.type === \"FeatureCollection\")\n    features = features.concat(line2.features);\n  else if (line2.type === \"Feature\")\n    features.push(line2);\n  else if (line2.type === \"LineString\" || line2.type === \"Polygon\" || line2.type === \"MultiLineString\" || line2.type === \"MultiPolygon\") {\n    features.push(feature(line2));\n  }\n  const intersections = sweeplineIntersections(\n    featureCollection(features),\n    ignoreSelfIntersections\n  );\n  let results = [];\n  if (removeDuplicates) {\n    const unique = {};\n    intersections.forEach((intersection) => {\n      const key = intersection.join(\",\");\n      if (!unique[key]) {\n        unique[key] = true;\n        results.push(intersection);\n      }\n    });\n  } else {\n    results = intersections;\n  }\n  return featureCollection(results.map((r) => point(r)));\n}\nvar turf_line_intersect_default = lineIntersect;\nexport {\n  turf_line_intersect_default as default,\n  lineIntersect\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null)\n    return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null)\n        continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\")\n              multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\")\n            multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\")\n              multiFeatureIndex++;\n            if (geomType === \"Polygon\")\n              geometryIndex++;\n          }\n          if (geomType === \"Polygon\")\n            multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false)\n          break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false)\n        break;\n    }\n  }\n}\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else\n      previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry)\n      return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\")\n      return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\nfunction lineEach(geojson, callback) {\n  if (!geojson)\n    throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null)\n      return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0)\n        segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0)\n        coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { featureCollection, lineString, multiLineString } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nfunction polygonToLine(poly, options = {}) {\n  const geom = getGeom(poly);\n  if (!options.properties && poly.type === \"Feature\") {\n    options.properties = poly.properties;\n  }\n  switch (geom.type) {\n    case \"Polygon\":\n      return singlePolygonToLine(geom, options);\n    case \"MultiPolygon\":\n      return multiPolygonToLine(geom, options);\n    default:\n      throw new Error(\"invalid poly\");\n  }\n}\nfunction singlePolygonToLine(poly, options = {}) {\n  const geom = getGeom(poly);\n  const coords = geom.coordinates;\n  const properties = options.properties ? options.properties : poly.type === \"Feature\" ? poly.properties : {};\n  return coordsToLine(coords, properties);\n}\nfunction multiPolygonToLine(multiPoly, options = {}) {\n  const geom = getGeom(multiPoly);\n  const coords = geom.coordinates;\n  const properties = options.properties ? options.properties : multiPoly.type === \"Feature\" ? multiPoly.properties : {};\n  const lines = [];\n  coords.forEach((coord) => {\n    lines.push(coordsToLine(coord, properties));\n  });\n  return featureCollection(lines);\n}\nfunction coordsToLine(coords, properties) {\n  if (coords.length > 1) {\n    return multiLineString(coords, properties);\n  }\n  return lineString(coords[0], properties);\n}\nvar turf_polygon_to_line_default = polygonToLine;\nexport {\n  coordsToLine,\n  turf_polygon_to_line_default as default,\n  multiPolygonToLine,\n  polygonToLine,\n  singlePolygonToLine\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { booleanPointInPolygon } from \"@turf/boolean-point-in-polygon\";\nimport { lineIntersect } from \"@turf/line-intersect\";\nimport { flattenEach } from \"@turf/meta\";\nimport { polygonToLine } from \"@turf/polygon-to-line\";\nfunction booleanDisjoint(feature1, feature2, options = {}) {\n  var _a;\n  const ignoreSelfIntersections = (_a = options.ignoreSelfIntersections) != null ? _a : false;\n  let bool = true;\n  flattenEach(feature1, (flatten1) => {\n    flattenEach(feature2, (flatten2) => {\n      if (bool === false) {\n        return false;\n      }\n      bool = disjoint(\n        flatten1.geometry,\n        flatten2.geometry,\n        ignoreSelfIntersections\n      );\n    });\n  });\n  return bool;\n}\nfunction disjoint(geom1, geom2, ignoreSelfIntersections) {\n  switch (geom1.type) {\n    case \"Point\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !compareCoords(geom1.coordinates, geom2.coordinates);\n        case \"LineString\":\n          return !isPointOnLine(geom2, geom1);\n        case \"Polygon\":\n          return !booleanPointInPolygon(geom1, geom2);\n      }\n      break;\n    case \"LineString\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !isPointOnLine(geom1, geom2);\n        case \"LineString\":\n          return !isLineOnLine(geom1, geom2, ignoreSelfIntersections);\n        case \"Polygon\":\n          return !isLineInPoly(geom2, geom1, ignoreSelfIntersections);\n      }\n      break;\n    case \"Polygon\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !booleanPointInPolygon(geom2, geom1);\n        case \"LineString\":\n          return !isLineInPoly(geom1, geom2, ignoreSelfIntersections);\n        case \"Polygon\":\n          return !isPolyInPoly(geom2, geom1, ignoreSelfIntersections);\n      }\n  }\n  return false;\n}\nfunction isPointOnLine(lineString, pt) {\n  for (let i = 0; i < lineString.coordinates.length - 1; i++) {\n    if (isPointOnLineSegment(\n      lineString.coordinates[i],\n      lineString.coordinates[i + 1],\n      pt.coordinates\n    )) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction isLineOnLine(lineString1, lineString2, ignoreSelfIntersections) {\n  const doLinesIntersect = lineIntersect(lineString1, lineString2, {\n    ignoreSelfIntersections\n  });\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isLineInPoly(polygon, lineString, ignoreSelfIntersections) {\n  for (const coord of lineString.coordinates) {\n    if (booleanPointInPolygon(coord, polygon)) {\n      return true;\n    }\n  }\n  const doLinesIntersect = lineIntersect(lineString, polygonToLine(polygon), {\n    ignoreSelfIntersections\n  });\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isPolyInPoly(feature1, feature2, ignoreSelfIntersections) {\n  for (const coord1 of feature1.coordinates[0]) {\n    if (booleanPointInPolygon(coord1, feature2)) {\n      return true;\n    }\n  }\n  for (const coord2 of feature2.coordinates[0]) {\n    if (booleanPointInPolygon(coord2, feature1)) {\n      return true;\n    }\n  }\n  const doLinesIntersect = lineIntersect(\n    polygonToLine(feature1),\n    polygonToLine(feature2),\n    { ignoreSelfIntersections }\n  );\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isPointOnLineSegment(lineSegmentStart, lineSegmentEnd, pt) {\n  const dxc = pt[0] - lineSegmentStart[0];\n  const dyc = pt[1] - lineSegmentStart[1];\n  const dxl = lineSegmentEnd[0] - lineSegmentStart[0];\n  const dyl = lineSegmentEnd[1] - lineSegmentStart[1];\n  const cross = dxc * dyl - dyc * dxl;\n  if (cross !== 0) {\n    return false;\n  }\n  if (Math.abs(dxl) >= Math.abs(dyl)) {\n    if (dxl > 0) {\n      return lineSegmentStart[0] <= pt[0] && pt[0] <= lineSegmentEnd[0];\n    } else {\n      return lineSegmentEnd[0] <= pt[0] && pt[0] <= lineSegmentStart[0];\n    }\n  } else if (dyl > 0) {\n    return lineSegmentStart[1] <= pt[1] && pt[1] <= lineSegmentEnd[1];\n  } else {\n    return lineSegmentEnd[1] <= pt[1] && pt[1] <= lineSegmentStart[1];\n  }\n}\nfunction compareCoords(pair1, pair2) {\n  return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\nvar turf_boolean_disjoint_default = booleanDisjoint;\nexport {\n  booleanDisjoint,\n  turf_boolean_disjoint_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians } from \"@turf/helpers\";\nfunction distance(from, to, options = {}) {\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(\n    2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n    options.units\n  );\n}\nvar turf_distance_default = distance;\nexport {\n  turf_distance_default as default,\n  distance\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction bearing(start, end, options = {}) {\n  if (options.final === true) {\n    return calculateFinalBearing(start, end);\n  }\n  const coordinates1 = getCoord(start);\n  const coordinates2 = getCoord(end);\n  const lon1 = degreesToRadians(coordinates1[0]);\n  const lon2 = degreesToRadians(coordinates2[0]);\n  const lat1 = degreesToRadians(coordinates1[1]);\n  const lat2 = degreesToRadians(coordinates2[1]);\n  const a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n  const b = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n  return radiansToDegrees(Math.atan2(a, b));\n}\nfunction calculateFinalBearing(start, end) {\n  let bear = bearing(end, start);\n  bear = (bear + 180) % 360;\n  return bear;\n}\nvar turf_bearing_default = bearing;\nexport {\n  bearing,\n  turf_bearing_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport {\n  degreesToRadians,\n  lengthToRadians,\n  point,\n  radiansToDegrees\n} from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction destination(origin, distance, bearing, options = {}) {\n  const coordinates1 = getCoord(origin);\n  const longitude1 = degreesToRadians(coordinates1[0]);\n  const latitude1 = degreesToRadians(coordinates1[1]);\n  const bearingRad = degreesToRadians(bearing);\n  const radians = lengthToRadians(distance, options.units);\n  const latitude2 = Math.asin(\n    Math.sin(latitude1) * Math.cos(radians) + Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad)\n  );\n  const longitude2 = longitude1 + Math.atan2(\n    Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1),\n    Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2)\n  );\n  const lng = radiansToDegrees(longitude2);\n  const lat = radiansToDegrees(latitude2);\n  return point([lng, lat], options.properties);\n}\nvar turf_destination_default = destination;\nexport {\n  turf_destination_default as default,\n  destination\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// index.ts\nimport { bearing } from \"@turf/bearing\";\nimport { distance } from \"@turf/distance\";\nimport { destination } from \"@turf/destination\";\nimport { lineIntersect as lineIntersects } from \"@turf/line-intersect\";\nimport { flattenEach } from \"@turf/meta\";\nimport { point, lineString } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nfunction nearestPointOnLine(lines, pt, options = {}) {\n  if (!lines || !pt) {\n    throw new Error(\"lines and pt are required arguments\");\n  }\n  let closestPt = point([Infinity, Infinity], {\n    dist: Infinity,\n    index: -1,\n    multiFeatureIndex: -1,\n    location: -1\n  });\n  let length = 0;\n  flattenEach(\n    lines,\n    function(line, _featureIndex, multiFeatureIndex) {\n      const coords = getCoords(line);\n      for (let i = 0; i < coords.length - 1; i++) {\n        const start = point(coords[i]);\n        start.properties.dist = distance(pt, start, options);\n        const stop = point(coords[i + 1]);\n        stop.properties.dist = distance(pt, stop, options);\n        const sectionLength = distance(start, stop, options);\n        const heightDistance = Math.max(\n          start.properties.dist,\n          stop.properties.dist\n        );\n        const direction = bearing(start, stop);\n        const perpendicularPt1 = destination(\n          pt,\n          heightDistance,\n          direction + 90,\n          options\n        );\n        const perpendicularPt2 = destination(\n          pt,\n          heightDistance,\n          direction - 90,\n          options\n        );\n        const intersect = lineIntersects(\n          lineString([\n            perpendicularPt1.geometry.coordinates,\n            perpendicularPt2.geometry.coordinates\n          ]),\n          lineString([start.geometry.coordinates, stop.geometry.coordinates])\n        );\n        let intersectPt;\n        if (intersect.features.length > 0 && intersect.features[0]) {\n          intersectPt = __spreadProps(__spreadValues({}, intersect.features[0]), {\n            properties: {\n              dist: distance(pt, intersect.features[0], options),\n              multiFeatureIndex,\n              location: length + distance(start, intersect.features[0], options)\n            }\n          });\n        }\n        if (start.properties.dist < closestPt.properties.dist) {\n          closestPt = __spreadProps(__spreadValues({}, start), {\n            properties: __spreadProps(__spreadValues({}, start.properties), {\n              index: i,\n              multiFeatureIndex,\n              location: length\n            })\n          });\n        }\n        if (stop.properties.dist < closestPt.properties.dist) {\n          closestPt = __spreadProps(__spreadValues({}, stop), {\n            properties: __spreadProps(__spreadValues({}, stop.properties), {\n              index: i + 1,\n              multiFeatureIndex,\n              location: length + sectionLength\n            })\n          });\n        }\n        if (intersectPt && intersectPt.properties.dist < closestPt.properties.dist) {\n          closestPt = __spreadProps(__spreadValues({}, intersectPt), {\n            properties: __spreadProps(__spreadValues({}, intersectPt.properties), { index: i })\n          });\n        }\n        length += sectionLength;\n      }\n    }\n  );\n  return closestPt;\n}\nvar turf_nearest_point_on_line_default = nearestPointOnLine;\nexport {\n  turf_nearest_point_on_line_default as default,\n  nearestPointOnLine\n};\n//# sourceMappingURL=index.js.map","// index.ts\nfunction clone(geojson) {\n  if (!geojson) {\n    throw new Error(\"geojson is required\");\n  }\n  switch (geojson.type) {\n    case \"Feature\":\n      return cloneFeature(geojson);\n    case \"FeatureCollection\":\n      return cloneFeatureCollection(geojson);\n    case \"Point\":\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiPoint\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n    case \"GeometryCollection\":\n      return cloneGeometry(geojson);\n    default:\n      throw new Error(\"unknown GeoJSON type\");\n  }\n}\nfunction cloneFeature(geojson) {\n  const cloned = { type: \"Feature\" };\n  Object.keys(geojson).forEach((key) => {\n    switch (key) {\n      case \"type\":\n      case \"properties\":\n      case \"geometry\":\n        return;\n      default:\n        cloned[key] = geojson[key];\n    }\n  });\n  cloned.properties = cloneProperties(geojson.properties);\n  if (geojson.geometry == null) {\n    cloned.geometry = null;\n  } else {\n    cloned.geometry = cloneGeometry(geojson.geometry);\n  }\n  return cloned;\n}\nfunction cloneProperties(properties) {\n  const cloned = {};\n  if (!properties) {\n    return cloned;\n  }\n  Object.keys(properties).forEach((key) => {\n    const value = properties[key];\n    if (typeof value === \"object\") {\n      if (value === null) {\n        cloned[key] = null;\n      } else if (Array.isArray(value)) {\n        cloned[key] = value.map((item) => {\n          return item;\n        });\n      } else {\n        cloned[key] = cloneProperties(value);\n      }\n    } else {\n      cloned[key] = value;\n    }\n  });\n  return cloned;\n}\nfunction cloneFeatureCollection(geojson) {\n  const cloned = { type: \"FeatureCollection\" };\n  Object.keys(geojson).forEach((key) => {\n    switch (key) {\n      case \"type\":\n      case \"features\":\n        return;\n      default:\n        cloned[key] = geojson[key];\n    }\n  });\n  cloned.features = geojson.features.map((feature) => {\n    return cloneFeature(feature);\n  });\n  return cloned;\n}\nfunction cloneGeometry(geometry) {\n  const geom = { type: geometry.type };\n  if (geometry.bbox) {\n    geom.bbox = geometry.bbox;\n  }\n  if (geometry.type === \"GeometryCollection\") {\n    geom.geometries = geometry.geometries.map((g) => {\n      return cloneGeometry(g);\n    });\n    return geom;\n  }\n  geom.coordinates = deepSlice(geometry.coordinates);\n  return geom;\n}\nfunction deepSlice(coords) {\n  const cloned = coords;\n  if (typeof cloned[0] !== \"object\") {\n    return cloned.slice();\n  }\n  return cloned.map((coord) => {\n    return deepSlice(coord);\n  });\n}\nvar turf_clone_default = clone;\nexport {\n  clone,\n  cloneProperties,\n  turf_clone_default as default\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// index.ts\nimport { clone } from \"@turf/clone\";\nimport { distance } from \"@turf/distance\";\nimport { featureEach } from \"@turf/meta\";\nfunction nearestPoint(targetPoint, points, options = {}) {\n  if (!targetPoint)\n    throw new Error(\"targetPoint is required\");\n  if (!points)\n    throw new Error(\"points is required\");\n  let minDist = Infinity;\n  let bestFeatureIndex = 0;\n  featureEach(points, (pt, featureIndex) => {\n    const distanceToPoint = distance(targetPoint, pt, options);\n    if (distanceToPoint < minDist) {\n      bestFeatureIndex = featureIndex;\n      minDist = distanceToPoint;\n    }\n  });\n  const nearestPoint2 = clone(points.features[bestFeatureIndex]);\n  return __spreadProps(__spreadValues({}, nearestPoint2), {\n    properties: __spreadProps(__spreadValues({}, nearestPoint2.properties), {\n      featureIndex: bestFeatureIndex,\n      distanceToPoint: minDist\n    })\n  });\n}\nvar turf_nearest_point_default = nearestPoint;\nexport {\n  turf_nearest_point_default as default,\n  nearestPoint\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { bearing } from \"@turf/bearing\";\nimport { destination } from \"@turf/destination\";\nimport { distance } from \"@turf/distance\";\nfunction midpoint(point1, point2) {\n  const dist = distance(point1, point2);\n  const heading = bearing(point1, point2);\n  const midpoint2 = destination(point1, dist / 2, heading);\n  return midpoint2;\n}\nvar turf_midpoint_default = midpoint;\nexport {\n  turf_midpoint_default as default,\n  midpoint\n};\n//# sourceMappingURL=index.js.map","// Heavily inspired from work of @davidgilbertson on Github and `leaflet-geoman` project.\nimport MapboxDraw from \"@mapbox/mapbox-gl-draw\";\n\nconst { geojsonTypes } = MapboxDraw.constants;\n\nimport bboxPolygon from \"@turf/bbox-polygon\";\nimport booleanDisjoint from \"@turf/boolean-disjoint\";\nimport { getCoords } from \"@turf/invariant\";\nimport distance from \"@turf/distance\";\nimport polygonToLine from \"@turf/polygon-to-line\";\nimport nearestPointOnLine from \"@turf/nearest-point-on-line\";\nimport nearestPointInPointSet from \"@turf/nearest-point\";\nimport midpoint from \"@turf/midpoint\";\nimport {\n  featureCollection,\n  lineString as turfLineString,\n  point as turfPoint,\n} from \"@turf/helpers\";\nimport { LngLatLike, Map } from \"mapbox-gl\";\n\nexport const IDS = {\n  VERTICAL_GUIDE: \"VERTICAL_GUIDE\",\n  HORIZONTAL_GUIDE: \"HORIZONTAL_GUIDE\",\n};\n\nexport const addPointTovertices = (\n  map: Map,\n  vertices: any,\n  coordinates: LngLatLike,\n  forceInclusion?: boolean\n) => {\n  const { width: w, height: h } = map.getCanvas();\n  // Just add verteices of features currently visible in viewport\n  const { x, y } = map.project(coordinates);\n  const pointIsOnTheScreen = x > 0 && x < w && y > 0 && y < h;\n\n  // But do add off-screen points if forced (e.g. for the current feature)\n  // So features will always snap to their own points\n  if (pointIsOnTheScreen || forceInclusion) {\n    vertices.push(coordinates);\n  }\n};\n\nexport const createSnapList = (\n  map: Map,\n  draw: MapboxDraw,\n  currentFeature: MapboxDraw.DrawFeature,\n  sourcesIds: string[] = []\n) => {\n  // get all features from user's sources\n  const sourcesFeatures = sourcesIds\n    .map((id) => {\n      const source = map.getSource(id);\n      if (source?.type === \"geojson\") {\n        const sourceData = source._data;\n        if (!sourceData || typeof sourceData === \"string\") return [];\n\n        if (sourceData.type === \"FeatureCollection\") {\n          return sourceData.features;\n        } else if (sourceData.type === \"Feature\") {\n          return [sourceData];\n        }\n\n        return [];\n      }\n      return [];\n    })\n    .flat();\n\n  // Get all drawn features and sources features\n  const features = draw.getAll().features.concat(sourcesFeatures);\n  const snapList: GeoJSON.Feature[] = [];\n\n  // Get current bbox as polygon\n  const bboxAsPolygon = (() => {\n    const canvas = map.getCanvas(),\n      w = canvas.width,\n      h = canvas.height,\n      cUL = map.unproject([0, 0]).toArray(),\n      cUR = map.unproject([w, 0]).toArray(),\n      cLR = map.unproject([w, h]).toArray(),\n      cLL = map.unproject([0, h]).toArray();\n\n    return bboxPolygon([cLL, cUR].flat() as GeoJSON.BBox);\n  })();\n\n  const vertices: any[] = [];\n\n  // Keeps vertices for drwing guides\n  const addVerticesTovertices = (\n    coordinates: any,\n    isCurrentFeature = false\n  ) => {\n    if (!Array.isArray(coordinates)) throw Error(\"Your array is not an array\");\n\n    if (Array.isArray(coordinates[0])) {\n      // coordinates is an array of arrays, we must go deeper\n      coordinates.forEach((coord) => {\n        addVerticesTovertices(coord);\n      });\n    } else {\n      // If not an array of arrays, only consider arrays with two items\n      if (coordinates.length === 2) {\n        addPointTovertices(map, vertices, coordinates as any, isCurrentFeature);\n      }\n    }\n  };\n\n  features.forEach((feature) => {\n    // For currentfeature\n    if (feature.id === currentFeature.id) {\n      if (\n        currentFeature.type === geojsonTypes.POLYGON &&\n        !(\n          feature.geometry.type === \"GeometryCollection\" ||\n          feature.geometry.type === \"Point\"\n        )\n      ) {\n        // For the current polygon, the last two points are the mouse position and back home\n        // so we chop those off (else we get vertices showing where the user clicked, even\n        // if they were just panning the map)\n        addVerticesTovertices(\n          feature.geometry.coordinates[0].slice(0, -2),\n          true\n        );\n      }\n      return;\n    }\n\n    // If this is re-running because a user is moving the map, the features might include\n    // vertices or the last leg of a polygon\n    if (\n      feature.id === IDS.HORIZONTAL_GUIDE ||\n      feature.id === IDS.VERTICAL_GUIDE\n    )\n      return;\n\n    if (\n      !(\n        feature.geometry.type === \"GeometryCollection\" ||\n        feature.geometry.type === \"Point\"\n      )\n    ) {\n      addVerticesTovertices(feature.geometry.coordinates);\n    }\n\n    // If feature is currently on viewport add to snap list\n    if (!booleanDisjoint(bboxAsPolygon, feature)) {\n      snapList.push(feature);\n    }\n  });\n\n  return [snapList, vertices];\n};\n\nconst getNearbyvertices = (vertices: any, coords: any) => {\n  const verticals: any[] = [];\n  const horizontals: any[] = [];\n\n  vertices.forEach((vertex: any) => {\n    verticals.push(vertex[0]);\n    horizontals.push(vertex[1]);\n  });\n\n  const nearbyVerticalGuide = verticals.find(\n    (px) => Math.abs(px - coords.lng) < 0.009\n  );\n\n  const nearbyHorizontalGuide = horizontals.find(\n    (py) => Math.abs(py - coords.lat) < 0.009\n  );\n\n  return {\n    verticalPx: nearbyVerticalGuide,\n    horizontalPx: nearbyHorizontalGuide,\n  };\n};\n\nconst calcLayerDistances = (lngLat: any, layer: any) => {\n  // the point P which we want to snap (probpably the marker that is dragged)\n  const P = [lngLat.lng, lngLat.lat];\n\n  // is this a marker?\n  const isMarker = layer.geometry.type === \"Point\";\n  // is it a polygon?\n  const isPolygon = layer.geometry.type === \"Polygon\";\n  // is it a multiPolygon?\n  const isMultiPolygon = layer.geometry.type === \"MultiPolygon\";\n  // is it a multiPoint?\n  const isMultiPoint = layer.geometry.type === \"MultiPoint\";\n\n  let lines = undefined;\n\n  // the coords of the layer\n  const latlngs = getCoords(layer);\n\n  if (isMarker) {\n    const [lng, lat] = latlngs;\n    // return the info for the marker, no more calculations needed\n    return {\n      latlng: { lng, lat },\n      distance: distance(latlngs, P),\n    };\n  }\n\n  if (isMultiPoint) {\n    const np = nearestPointInPointSet(\n      P,\n      featureCollection(latlngs.map((x) => turfPoint(x)))\n    );\n    const c = np.geometry.coordinates;\n    return {\n      latlng: { lng: c[0], lat: c[1] },\n      distance: np.properties.distanceToPoint,\n    };\n  }\n\n  if (isPolygon || isMultiPolygon) {\n    lines = polygonToLine(layer);\n  } else {\n    lines = layer;\n  }\n\n  let nearestPoint;\n  if (isPolygon) {\n    let lineStrings;\n    if (lines.geometry.type === \"LineString\") {\n      lineStrings = [turfLineString(lines.geometry.coordinates)];\n    } else {\n      lineStrings = lines.geometry.coordinates.map((coords: any) =>\n        turfLineString(coords)\n      );\n    }\n\n    const closestFeature = getFeatureWithNearestPoint(lineStrings, P);\n    lines = closestFeature.feature;\n    nearestPoint = closestFeature.point;\n  } else if (isMultiPolygon) {\n    const lineStrings = lines.features\n      .map((feat: any) => {\n        if (feat.geometry.type === \"LineString\") {\n          return [feat.geometry.coordinates];\n        } else {\n          return feat.geometry.coordinates;\n        }\n      })\n      .flatMap((coords: any) => coords)\n      .map((coords: any) => turfLineString(coords));\n\n    const closestFeature = getFeatureWithNearestPoint(lineStrings, P);\n    lines = closestFeature.feature;\n    nearestPoint = closestFeature.point;\n  } else {\n    nearestPoint = nearestPointOnLine(lines, P);\n  }\n\n  const [lng, lat] = nearestPoint.geometry.coordinates;\n\n  let segmentIndex = nearestPoint.properties.index;\n  if (segmentIndex + 1 === lines.geometry.coordinates.length) segmentIndex--;\n\n  return {\n    latlng: { lng, lat },\n    segment: lines.geometry.coordinates.slice(segmentIndex, segmentIndex + 2),\n    distance: nearestPoint.properties.dist,\n    isMarker,\n  };\n};\n\nfunction getFeatureWithNearestPoint(lineStrings: any, P: any) {\n  const nearestPointsOfEachFeature = lineStrings.map((feat: any) => ({\n    feature: feat,\n    point: nearestPointOnLine(feat, P),\n  }));\n\n  nearestPointsOfEachFeature.sort(\n    (a: any, b: any) => a.point.properties.dist - b.point.properties.dist\n  );\n\n  return {\n    feature: nearestPointsOfEachFeature[0].feature,\n    point: nearestPointsOfEachFeature[0].point,\n  };\n}\n\nconst calcClosestLayer = (lngLat: any, layers: any) => {\n  let closestLayer: any = {};\n\n  // loop through the layers\n  layers.forEach((layer: any, index: any) => {\n    // find the closest latlng, segment and the distance of this layer to the dragged marker latlng\n    const results = calcLayerDistances(lngLat, layer);\n\n    // save the info if it doesn't exist or if the distance is smaller than the previous one\n    if (\n      closestLayer.distance === undefined ||\n      results.distance < closestLayer.distance\n    ) {\n      closestLayer = results;\n      closestLayer.layer = layer;\n    }\n  });\n\n  // return the closest layer and it's data\n  // if there is no closest layer, return undefined\n  return closestLayer;\n};\n\n// minimal distance before marker snaps (in pixels)\nconst metersPerPixel = function (latitude: any, zoomLevel: any) {\n  const earthCircumference = 40075017;\n  const latitudeRadians = latitude * (Math.PI / 180);\n  return (\n    (earthCircumference * Math.cos(latitudeRadians)) /\n    Math.pow(2, zoomLevel + 8)\n  );\n};\n\n// we got the point we want to snap to (C), but we need to check if a coord of the polygon\nfunction snapToLineOrPolygon(\n  closestLayer: any,\n  snapOptions: any,\n  snapVertexPriorityDistance: any\n) {\n  // A and B are the points of the closest segment to P (the marker position we want to snap)\n  const A = closestLayer.segment[0];\n  const B = closestLayer.segment[1];\n\n  // C is the point we would snap to on the segment.\n  // The closest point on the closest segment of the closest polygon to P. That's right.\n  const C = [closestLayer.latlng.lng, closestLayer.latlng.lat];\n\n  // distances from A to C and B to C to check which one is closer to C\n  const distanceAC = distance(A, C);\n  const distanceBC = distance(B, C);\n\n  // closest latlng of A and B to C\n  let closestVertexLatLng = distanceAC < distanceBC ? A : B;\n\n  // distance between closestVertexLatLng and C\n  let shortestDistance = distanceAC < distanceBC ? distanceAC : distanceBC;\n\n  // snap to middle (M) of segment if option is enabled\n  if (snapOptions && snapOptions.snapToMidPoints) {\n    const M = midpoint(A, B).geometry.coordinates;\n    const distanceMC = distance(M, C);\n\n    if (distanceMC < distanceAC && distanceMC < distanceBC) {\n      // M is the nearest vertex\n      closestVertexLatLng = M;\n      shortestDistance = distanceMC;\n    }\n  }\n\n  // the distance that needs to be undercut to trigger priority\n  const priorityDistance = snapVertexPriorityDistance;\n\n  // the latlng we ultemately want to snap to\n  let snapLatlng;\n\n  // if C is closer to the closestVertexLatLng (A, B or M) than the snapDistance,\n  // the closestVertexLatLng has priority over C as the snapping point.\n  if (shortestDistance < priorityDistance) {\n    snapLatlng = closestVertexLatLng;\n  } else {\n    snapLatlng = C;\n  }\n\n  // return the copy of snapping point\n  const [lng, lat] = snapLatlng;\n  return { lng, lat };\n}\n\nfunction snapToPoint(closestLayer: any) {\n  return closestLayer.latlng;\n}\n\nconst checkPrioritiySnapping = (\n  closestLayer: any,\n  snapOptions: any,\n  snapVertexPriorityDistance = 1.25\n) => {\n  let snappingToPoint = !Array.isArray(closestLayer.segment);\n  if (snappingToPoint) {\n    return snapToPoint(closestLayer);\n  } else {\n    return snapToLineOrPolygon(\n      closestLayer,\n      snapOptions,\n      snapVertexPriorityDistance\n    );\n  }\n};\n\n/**\n * Returns snap points if there are any, otherwise the original lng/lat of the event\n * Also, defines if vertices should show on the state object\n *\n * Mutates the state object\n *\n * @param state\n * @param e\n * @returns {{lng: number, lat: number}}\n */\nexport const snap = (state: any, e: any) => {\n  let lng = e.lngLat.lng;\n  let lat = e.lngLat.lat;\n\n  // Holding alt bypasses all snapping\n  if (e.originalEvent.altKey) {\n    state.showVerticalSnapLine = false;\n    state.showHorizontalSnapLine = false;\n\n    return { lng, lat };\n  }\n\n  if (state.snapList.length <= 0) {\n    return { lng, lat };\n  }\n\n  // snapping is on\n  let closestLayer, minDistance, snapLatLng;\n  if (state.options.snap) {\n    closestLayer = calcClosestLayer({ lng, lat }, state.snapList);\n\n    // if no layers found. Can happen when circle is the only visible layer on the map and the hidden snapping-border circle layer is also on the map\n    if (Object.keys(closestLayer).length === 0) {\n      return false;\n    }\n\n    const isMarker = closestLayer.isMarker;\n    const snapVertexPriorityDistance = state.options.snapOptions\n      ? state.options.snapOptions.snapVertexPriorityDistance\n      : undefined;\n\n    if (!isMarker) {\n      snapLatLng = checkPrioritiySnapping(\n        closestLayer,\n        state.options.snapOptions,\n        snapVertexPriorityDistance\n      );\n      // snapLatLng = closestLayer.latlng;\n    } else {\n      snapLatLng = closestLayer.latlng;\n    }\n\n    minDistance =\n      ((state.options.snapOptions && state.options.snapOptions.snapPx) || 15) *\n      metersPerPixel(snapLatLng.lat, state.map.getZoom());\n  }\n\n  let verticalPx, horizontalPx;\n  if (state.options.guides) {\n    const nearestGuidline = getNearbyvertices(state.vertices, e.lngLat);\n\n    verticalPx = nearestGuidline.verticalPx;\n    horizontalPx = nearestGuidline.horizontalPx;\n\n    if (verticalPx) {\n      // Draw a line from top to bottom\n\n      const lngLatTop = { lng: verticalPx, lat: e.lngLat.lat + 10 };\n      const lngLatBottom = { lng: verticalPx, lat: e.lngLat.lat - 10 };\n\n      state.verticalGuide.updateCoordinate(0, lngLatTop.lng, lngLatTop.lat);\n      state.verticalGuide.updateCoordinate(\n        1,\n        lngLatBottom.lng,\n        lngLatBottom.lat\n      );\n    }\n\n    if (horizontalPx) {\n      // Draw a line from left to right\n\n      const lngLatTop = { lng: e.lngLat.lng + 10, lat: horizontalPx };\n      const lngLatBottom = { lng: e.lngLat.lng - 10, lat: horizontalPx };\n\n      state.horizontalGuide.updateCoordinate(0, lngLatTop.lng, lngLatTop.lat);\n      state.horizontalGuide.updateCoordinate(\n        1,\n        lngLatBottom.lng,\n        lngLatBottom.lat\n      );\n    }\n\n    state.showVerticalSnapLine = !!verticalPx;\n    state.showHorizontalSnapLine = !!horizontalPx;\n  }\n\n  if (\n    minDistance &&\n    closestLayer &&\n    closestLayer.distance * 1000 < minDistance\n  ) {\n    return snapLatLng;\n  } else if (verticalPx || horizontalPx) {\n    if (verticalPx) {\n      lng = verticalPx;\n    }\n    if (horizontalPx) {\n      lat = horizontalPx;\n    }\n    return { lng, lat };\n  } else {\n    return { lng, lat };\n  }\n};\n\nexport const getGuideFeature = (id: any) => ({\n  id,\n  type: geojsonTypes.FEATURE,\n  properties: {\n    isSnapGuide: \"true\", // for styling\n  },\n  geometry: {\n    type: geojsonTypes.LINE_STRING,\n    coordinates: [],\n  },\n});\n\nexport const shouldHideGuide = (state: any, geojson: any) => {\n  if (\n    geojson.properties.id === IDS.VERTICAL_GUIDE &&\n    (!state.options.guides || !state.showVerticalSnapLine)\n  ) {\n    return true;\n  }\n\n  if (\n    geojson.properties.id === IDS.HORIZONTAL_GUIDE &&\n    (!state.options.guides || !state.showHorizontalSnapLine)\n  ) {\n    return true;\n  }\n\n  return false;\n};\n","// index.ts\nimport { booleanDisjoint } from \"@turf/boolean-disjoint\";\nimport { flattenEach } from \"@turf/meta\";\nfunction booleanIntersects(feature1, feature2, options = {}) {\n  var _a;\n  const ignoreSelfIntersections = (_a = options.ignoreSelfIntersections) != null ? _a : false;\n  let bool = false;\n  flattenEach(feature1, (flatten1) => {\n    flattenEach(feature2, (flatten2) => {\n      if (bool === true) {\n        return true;\n      }\n      bool = !booleanDisjoint(flatten1.geometry, flatten2.geometry, {\n        ignoreSelfIntersections\n      });\n    });\n  });\n  return bool;\n}\nvar turf_boolean_intersects_default = booleanIntersects;\nexport {\n  booleanIntersects,\n  turf_boolean_intersects_default as default\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null)\n    return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null)\n        continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\")\n              multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\")\n            multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\")\n              multiFeatureIndex++;\n            if (geomType === \"Polygon\")\n              geometryIndex++;\n          }\n          if (geomType === \"Polygon\")\n            multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false)\n          break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false)\n        break;\n    }\n  }\n}\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else\n      previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry)\n      return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\")\n      return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\nfunction lineEach(geojson, callback) {\n  if (!geojson)\n    throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null)\n      return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0)\n        segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options))\n    throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null)\n    return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0)\n        coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0)\n        geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport polygonClipping from \"polygon-clipping\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction difference(features) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n  const properties = features.features[0].properties || {};\n  const differenced = polygonClipping.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0)\n    return null;\n  if (differenced.length === 1)\n    return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\nvar turf_difference_default = difference;\nexport {\n  turf_difference_default as default,\n  difference\n};\n//# sourceMappingURL=index.js.map","import MapboxDraw, { DrawPolygon, lib } from \"@mapbox/mapbox-gl-draw\";\nconst { geojsonTypes, modes, cursors } = MapboxDraw.constants;\nconst { doubleClickZoom } = MapboxDraw.lib;\nconst DrawPolygonMode = MapboxDraw.modes.draw_polygon;\n\nimport {\n  addPointTovertices,\n  createSnapList,\n  getGuideFeature,\n  IDS,\n  shouldHideGuide,\n  snap,\n} from \"../utils\";\nimport booleanIntersects from \"@turf/boolean-intersects\";\nimport { difference } from \"@turf/difference\";\nimport { featureCollection, point } from \"@turf/helpers\";\nimport { Map } from \"mapbox-gl\";\n\nconst SnapPolygonMode = { ...DrawPolygonMode };\n\ntype State = {\n  map: Map;\n  polygon: DrawPolygon;\n  currentVertexPosition: number;\n  vertices: any;\n  snapList: any;\n  selectedFeatures: any;\n  verticalGuide: any;\n  horizontalGuide: any;\n  ghostPoint: GeoJSON.Feature<GeoJSON.Point>;\n  snappedLng: number;\n  snappedLat: number;\n  options: MapboxDraw.MapboxDrawOptions;\n  moveendCallback?: () => void;\n  optionsChangedCallBAck?: (options: any) => void;\n};\n\nSnapPolygonMode.onSetup = function (options) {\n  const polygon = this.newFeature({\n    type: geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: geojsonTypes.POLYGON,\n      coordinates: [[]],\n    },\n  }) as DrawPolygon;\n\n  const verticalGuide = this.newFeature(getGuideFeature(IDS.VERTICAL_GUIDE));\n  const horizontalGuide = this.newFeature(\n    getGuideFeature(IDS.HORIZONTAL_GUIDE)\n  );\n\n  this.addFeature(polygon);\n  this.addFeature(verticalGuide);\n  this.addFeature(horizontalGuide);\n\n  const selectedFeatures = this.getSelected();\n  this.clearSelectedFeatures();\n  doubleClickZoom.disable(this);\n\n  const [snapList, vertices] = createSnapList(\n    this.map,\n    (this as any)._ctx.api,\n    polygon,\n    (this as any)._ctx.options.snapOptions.sources\n  );\n\n  const state: State = {\n    map: this.map,\n    polygon,\n    currentVertexPosition: 0,\n    vertices,\n    snapList,\n    selectedFeatures,\n    verticalGuide,\n    horizontalGuide,\n    snappedLat: 0,\n    snappedLng: 0,\n    ghostPoint: point([0, 0], { meta: \"feature\", active: \"true\" }),\n    /// Adding default options\n    options: (options = Object.assign((this as any)._ctx.options, {\n      overlap: true,\n    })),\n  };\n\n  const moveendCallback = () => {\n    const [snapList, vertices] = createSnapList(\n      this.map,\n      (this as any)._ctx.api,\n      polygon,\n      state.options.snapOptions.sources\n    );\n    state.vertices = vertices;\n    state.snapList = snapList;\n  };\n  // for removing listener later on close\n  state[\"moveendCallback\"] = moveendCallback;\n\n  const optionsChangedCallBAck = (options: any) => {\n    state.options = options;\n  };\n\n  // for removing listener later on close\n  state[\"optionsChangedCallBAck\"] = optionsChangedCallBAck;\n\n  this.map.on(\"moveend\", moveendCallback);\n  this.map.on(\"draw.snap.options_changed\", optionsChangedCallBAck);\n\n  return state;\n};\n\nSnapPolygonMode.onClick = function (state: State, e) {\n  // We save some processing by rounding on click, not mousemove\n  const lng = state.snappedLng;\n  const lat = state.snappedLat;\n\n  // End the drawing if this click is on the previous position\n  if (state.currentVertexPosition > 0) {\n    this.updateUIClasses({ mouse: cursors.POINTER });\n\n    if (lib.CommonSelectors.isVertex(e)) {\n      return this.changeMode(modes.SIMPLE_SELECT, {\n        featureIds: [state.polygon.id],\n      });\n    }\n  }\n\n  addPointTovertices(state.map, state.vertices, { lng, lat });\n\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, lng, lat);\n\n  state.currentVertexPosition++;\n\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, lng, lat);\n};\n\nSnapPolygonMode.onMouseMove = function (state: State, e) {\n  const { lng, lat } = snap(state, e);\n  state.snappedLng = lng;\n  state.snappedLat = lat;\n\n  state.ghostPoint.geometry.coordinates = [lng, lat];\n\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, lng, lat);\n\n  if (lib.CommonSelectors.isVertex(e)) {\n    this.updateUIClasses({ mouse: cursors.POINTER });\n  } else {\n    this.updateUIClasses({ mouse: cursors.ADD });\n  }\n};\n\n// This is 'extending' DrawPolygon.toDisplayFeatures\nSnapPolygonMode.toDisplayFeatures = function (state: State, geojson, display) {\n  if (shouldHideGuide(state, geojson)) return;\n\n  display(state.ghostPoint);\n  // This relies on the the state of SnapPolygonMode being similar to DrawPolygon\n  (DrawPolygonMode as any).toDisplayFeatures(state, geojson, display);\n};\n\n// This is 'extending' DrawPolygon.onStop\nSnapPolygonMode.onStop = function (state) {\n  this.deleteFeature(IDS.VERTICAL_GUIDE, { silent: true });\n  this.deleteFeature(IDS.HORIZONTAL_GUIDE, { silent: true });\n\n  // remove moveemd callback\n  this.map.off(\"moveend\", state.moveendCallback);\n  this.map.off(\"draw.snap.options_changed\", state.optionsChangedCallBAck);\n\n  var userPolygon = state.polygon;\n  if (state.options.overlap) {\n    (DrawPolygonMode as any).onStop.call(this, state);\n    return;\n  }\n  // if overlap is false, mutate polygon so it doesnt overlap with existing ones\n  // get all editable features to check for intersections\n  var features = (this as any)._ctx.store.getAll();\n\n  try {\n    var edited = userPolygon;\n    features.forEach(function (feature: any) {\n      if (userPolygon.id === feature.id) return false;\n      if (!booleanIntersects(feature, edited)) return;\n      edited = difference(featureCollection([edited, feature]));\n    });\n    state.polygon.coordinates =\n      edited.coordinates || edited.geometry.coordinates;\n  } catch (err) {\n    // cancel this polygon if a difference cannot be calculated\n    (DrawPolygonMode as any).onStop.call(this, state);\n    this.deleteFeature(state.polygon.id, { silent: true });\n    return;\n  }\n\n  // monkeypatch so DrawPolygon.onStop doesn't error\n  var rc = state.polygon.removeCoordinate;\n  state.polygon.removeCoordinate = () => {};\n  // This relies on the the state of SnapPolygonMode being similar to DrawPolygon\n  (DrawPolygonMode as any).onStop.call(this, state);\n  state.polygon.removeCoordinate = rc.bind(state.polygon);\n};\n\nexport default SnapPolygonMode;\n","import MapboxDraw from \"@mapbox/mapbox-gl-draw\";\nimport { createSnapList, getGuideFeature, IDS, snap } from \"../utils\";\nconst { doubleClickZoom } = MapboxDraw.lib;\nconst DirectSelect = MapboxDraw.modes.direct_select;\nconst Constants = MapboxDraw.constants;\n\ninterface DirectSelectMode extends MapboxDraw.DrawCustomMode {\n  pathsToCoordinates: (featureId: string, paths: any) => any;\n  dragVertex: (state: any, e: any, delta: any) => void;\n}\n\nconst SnapDirectSelect = { ...(DirectSelect as DirectSelectMode) };\n\nSnapDirectSelect.onSetup = function (opts) {\n  const featureId = opts.featureId;\n  const feature = this.getFeature(featureId);\n\n  if (!feature) {\n    throw new Error(\"You must provide a featureId to enter direct_select mode\");\n  }\n\n  if (feature.type === Constants.geojsonTypes.POINT) {\n    throw new TypeError(\"direct_select mode doesn't handle point features\");\n  }\n\n  const [snapList, vertices] = createSnapList(\n    this.map,\n    (this as any)._ctx.api,\n    feature,\n    (this as any)._ctx.options.snapOptions.sources\n  );\n\n  const verticalGuide = this.newFeature(getGuideFeature(IDS.VERTICAL_GUIDE));\n  const horizontalGuide = this.newFeature(\n    getGuideFeature(IDS.HORIZONTAL_GUIDE)\n  );\n\n  this.addFeature(verticalGuide);\n  this.addFeature(horizontalGuide);\n\n  const state = {\n    map: this.map,\n    featureId,\n    feature,\n    dragMoveLocation: opts.startPos || null,\n    dragMoving: false,\n    canDragMove: false,\n    selectedCoordPaths: opts.coordPath ? [opts.coordPath] : [],\n    vertices,\n    snapList,\n    verticalGuide,\n    horizontalGuide,\n    options: {},\n    optionsChangedCallBAck: (options: any) => {},\n  };\n\n  state.options = (this as any)._ctx.options;\n\n  this.setSelectedCoordinates(\n    this.pathsToCoordinates(featureId, state.selectedCoordPaths)\n  );\n  this.setSelected(featureId);\n  doubleClickZoom.disable(this);\n\n  this.setActionableState({\n    trash: true,\n    combineFeatures: false,\n    uncombineFeatures: false,\n  });\n\n  const optionsChangedCallBAck = (options: any) => {\n    state.options = options;\n  };\n\n  // for removing listener later on close\n  state[\"optionsChangedCallBAck\"] = optionsChangedCallBAck;\n  this.map.on(\"draw.snap.options_changed\", optionsChangedCallBAck);\n\n  return state;\n};\n\nSnapDirectSelect.dragVertex = function (state, e, delta) {\n  const { lng, lat } = snap(state, e);\n\n  state.feature.updateCoordinate(state.selectedCoordPaths[0], lng, lat);\n};\n\nSnapDirectSelect.onStop = function (state) {\n  this.deleteFeature(IDS.VERTICAL_GUIDE, { silent: true });\n  this.deleteFeature(IDS.HORIZONTAL_GUIDE, { silent: true });\n\n  // remove moveemd callback\n  //   this.map.off(\"moveend\", state.moveendCallback);\n  this.map.off(\"draw.snap.options_changed\", state.optionsChangedCallBAck);\n\n  // This relies on the the state of SnapPolygonMode being similar to DrawPolygon\n  DirectSelect.onStop?.call(this, state);\n};\n\nexport default SnapDirectSelect;\n","import { lib } from \"@mapbox/mapbox-gl-draw\";\n\nconst modifiedDefaultStyles = lib.theme.map((defaultStyle) => {\n  if (defaultStyle.id === \"gl-draw-line-inactive\") {\n    return {\n      ...defaultStyle,\n      filter: [\n        ...(defaultStyle?.filter || []),\n        [\"!=\", \"user_isSnapGuide\", \"true\"],\n      ],\n    };\n  }\n\n  return defaultStyle;\n});\n\nconst customDrawStyles = [\n  ...modifiedDefaultStyles,\n  {\n    id: \"guide\",\n    type: \"line\",\n    filter: [\n      \"all\",\n      [\"==\", \"$type\", \"LineString\"],\n      [\"==\", \"user_isSnapGuide\", \"true\"],\n    ],\n    layout: {\n      \"line-cap\": \"round\",\n      \"line-join\": \"round\",\n    },\n    paint: {\n      \"line-color\": \"#c00c00\",\n      \"line-width\": 1,\n      \"line-dasharray\": [5, 5],\n    },\n  },\n];\n\nexport default customDrawStyles;\n"],"names":["module","exports","t","e","n","drag","click","mousemove","mousedown","mouseup","mouseout","keydown","keyup","touchstart","touchmove","touchend","tap","o","on","Error","push","selector","fn","render","store","featureChanged","r","i","a","length","s","call","ui","updateMapClasses","start","stop","trash","combineFeatures","uncombineFeatures","__esModule","Object","prototype","hasOwnProperty","default","this","apply","arguments","Function","bind","defineProperty","value","keys","forEach","getOwnPropertyDescriptor","get","enumerable","RADIUS","FLATTENING","POLAR_RADIUS","Math","abs","c","l","u","sin","PI","geometry","type","coordinates","geometries","ring","CONTROL_BASE","CONTROL_PREFIX","CONTROL_BUTTON","CONTROL_BUTTON_LINE","CONTROL_BUTTON_POLYGON","CONTROL_BUTTON_POINT","CONTROL_BUTTON_TRASH","CONTROL_BUTTON_COMBINE_FEATURES","CONTROL_BUTTON_UNCOMBINE_FEATURES","CONTROL_GROUP","ATTRIBUTION","ACTIVE_BUTTON","BOX_SELECT","HOT","COLD","d","ADD","MOVE","DRAG","POINTER","NONE","p","POLYGON","LINE","POINT","f","FEATURE","LINE_STRING","FEATURE_COLLECTION","MULTI_PREFIX","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","h","DRAW_LINE_STRING","DRAW_POLYGON","DRAW_POINT","SIMPLE_SELECT","DIRECT_SELECT","STATIC","g","CREATE","DELETE","UPDATE","SELECTION_CHANGE","MODE_CHANGE","ACTIONABLE","RENDER","COMBINE_FEATURES","UNCOMBINE_FEATURES","y","CHANGE_COORDINATES","v","MIDPOINT","VERTEX","m","ACTIVE","INACTIVE","_","b","E","freeze","__proto__","classes","sources","cursors","types","geojsonTypes","modes","events","updateActions","meta","activeStates","interactions","LAT_MIN","LAT_RENDERED_MIN","LAT_MAX","LAT_RENDERED_MAX","LNG_MIN","LNG_MAX","T","Point","LineString","MultiLineString","Polygon","C","area","O","map","property","sort","S","point","x","I","_items","_nums","_length","add","has","delete","values","k","JSON","parse","clear","M","L","options","clickBuffer","touch","touchBuffer","styles","layers","id","filter","getLayer","queryRenderedFeatures","indexOf","properties","N","mouse","active","feature","currentModeName","queueMapClasses","A","sqrt","P","fineTolerance","grossTolerance","interval","time","F","tolerance","w","R","log","pow","floor","random","toString","parseInt","rack","hats","set","bits","base","D","ctx","changed","incomingCoords","setCoordinates","getCoordinates","stringify","setProperty","toGeoJSON","internal","mode","userProperties","U","create","isValid","updateCoordinate","getCoordinate","j","addCoordinate","splice","removeCoordinate","V","slice","every","split","concat","B","MultiPoint","MultiPolygon","G","join","J","model","TypeError","features","_coordinatesToFeatures","z","drawConfig","_ctx","replace","getFeatures","setSelected","setSelectedCoordinates","reduce","feature_id","getSelected","getSelectedIds","isSelected","getFeature","select","deselect","deleteFeature","addFeature","clearSelectedFeatures","clearSelected","clearSelectedCoordinates","setActionableState","actionable","changeMode","updateUIClasses","activateUIButton","setActiveButton","featuresAt","newFeature","isInstanceOf","doRender","onSetup","onDrag","onClick","onMouseMove","onMouseDown","onMouseUp","onMouseOut","onKeyUp","onKeyDown","onTouchStart","onTouchMove","onTouchEnd","onTap","onStop","onTrash","onCombineFeature","onUncombineFeature","toDisplayFeatures","Y","$","q","onCombineFeatures","onUncombineFeatures","H","X","getSource","isDirty","getAllIds","getChangedIds","hot","cold","parent","currentModeRender","setData","_emitSelectionChange","fire","points","getSelectedCoordinates","_deletedFeaturesToEmit","clearChangedIds","Z","_features","_featureIds","_selectedFeatureIds","_selectedCoordinates","_changedFeatureIds","_mapInitialConfig","requestAnimationFrame","W","silent","createRenderBatch","setDirty","getAll","coord_path","setFeatureProperty","storeMapConfig","isEnabled","restoreMapConfig","enable","disable","getInitialConfigValue","K","Q","tt","et","nt","onRemove","off","connect","clearInterval","removeLayers","removeButtons","removeEventListeners","clearMapClasses","boxZoomInitial","boxZoom","container","parentNode","removeChild","addLayers","addEventListeners","onAdd","Date","getTime","originalEvent","stopPropagation","mousedrag","touchdrag","buttons","which","featureTarget","touchEnabled","preventDefault","srcElement","target","classList","contains","keyCode","controls","line_string","polygon","zoomend","changeZoom","data","dataType","setup","some","defaultMode","actions","addEventListener","keybindings","removeEventListener","getMode","remove","document","createElement","className","setAttribute","title","appendChild","onDeactivate","onActivate","addButtons","combine_features","uncombine_features","getContainer","boxSelect","dragPan","loaded","setInterval","addSource","addLayer","removeLayer","removeSource","ot","paint","layout","rt","it","shiftKey","button","at","st","ut","ct","lt","dt","pt","ft","ht","isOfMetaType","isShiftMousedown","isActiveFeature","isInactiveFeature","noTarget","isFeature","isVertex","isShiftDown","isEscapeKey","isEnterKey","isTrue","gt","yt","clone","_add","sub","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","_mult","div","_div","rotate","_rotate","rotateAround","_rotateAround","matMult","_matMult","unit","_unit","perp","_perp","round","_round","mag","equals","dist","distSqr","angle","atan2","angleTo","angleWith","angleWithSep","cos","convert","Array","isArray","vt","mt","getBoundingClientRect","clientX","left","clientLeft","clientY","top","clientTop","_t","bt","lng","lat","Et","String","midpoints","selectedPaths","Tt","setTimeout","doubleClickZoom","Ct","Ot","St","GeometryCollection","Feature","FeatureCollection","It","xt","Mt","Lt","Nt","At","Pt","Ft","wt","Rt","node","node_","path","parents","key","isRoot","level","circular","update","Ut","before","after","pre","post","block","kt","isLeaf","notLeaf","notRoot","jt","Vt","isLast","isFirst","pop","Dt","RegExp","message","Boolean","Number","getPrototypeOf","constructor","paths","nodes","Bt","Gt","Jt","_bbox","_valid","include","min","max","bbox","center","union","_fastContains","intersect","zt","Yt","$t","qt","Ht","Xt","bboxify","Zt","Wt","Kt","ceil","Qt","te","dragMoveLocation","boxSelectStartLocation","boxSelectElement","boxSelecting","canBoxSelect","dragMoving","canDragMove","initiallySelectedFeatureIds","featureIds","fireActionable","fireUpdate","action","getUniqueIds","stopExtendedInteractions","clickAnywhere","clickOnVertex","clickOnFeature","featureId","coordPath","startPos","lngLat","startOnActiveFeature","startBoxSelect","dragMove","whileBoxSelect","style","transform","WebkitTransform","width","height","includes","createdFeatures","deletedFeatures","ee","ne","oe","selectedCoordPaths","startDragging","stopDragging","onVertex","pathsToCoordinates","onMidpoint","onFeature","dragFeature","dragVertex","clickNoTarget","clickInactive","clickActiveFeature","localeCompare","numeric","re","ie","stopDrawingAndRemove","ae","currentVertexPosition","se","from","line","direction","ue","simple_select","direct_select","draw_point","draw_polygon","draw_line_string","ce","displayControlsDefault","le","de","pe","source","fe","self","nodeType","process","binding","isTypedArray","size","exec","IE_PROTO","Buffer","Symbol","Uint8Array","propertyIsEnumerable","toStringTag","getOwnPropertySymbols","isBuffer","valueOf","__data__","byteLength","byteOffset","buffer","name","test","hash","string","ArrayBuffer","resolve","he","ge","ye","ve","CommonSelectors","constrainFeatureMovement","createMidPoint","createSupplementaryPoints","createVertex","euclideanDistance","getFeatureAtAndSetCursors","isClick","isEventAtCoordinates","isTap","mapEventToBoundingBox","ModeHandler","moveFeatures","sortFeatures","stringSetsAreEqual","StringSet","theme","toDenseArray","me","getFeatureIdsAt","getSelectedPoints","deleteAll","api","_e","constants","lib","__generator","thisArg","body","label","sent","trys","ops","next","verb","iterator","step","op","done","Node","right","DEFAULT_COMPARE","splay","comparator","cmp","insert","merge","printRow","root","prefix","isTail","out","printNode","indent","Tree","_root","_size","_comparator","_remove","findStatic","current","compare","find","visitor","range","low","high","_a","minNode","maxNode","index","successor","prev","predecessor","toList","load","presort","loadRecursive","mergedList","mergeLists","createList","sortedListToBST","head","isEmpty","configurable","newKey","newData","end","middle","list","l1","l2","p1","p2","pivot","tmp","isInBbox","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","epsilon$1","EPSILON","undefined","EPSILON_SQ","ab","PtRounder","reset","xRounder","CoordRounder","yRounder","tree","coord","prevNode","nextNode","rounder","epsilon","splitter","resulterrbound","sum","elen","flen","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","estimate","vec","Float64Array","ccwerrboundA","ccwerrboundB","ccwerrboundC","C1","C2","orient2dadapt","ax","ay","bx","by","cx","cy","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","_0","s1","s0","t1","t0","u3","acx","bcx","acy","bcy","det","errbound","C1len","C2len","Dlen","orient2d","detleft","detright","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","res","sineOfAngle","pShared","pBase","pAngle","vBase","vAngle","cosineOfAngle","horizontalIntersection","verticalIntersection","intersection$1","pt1","v1","pt2","v2","kross","d1","d2","SweepEvent","ptCmp","comparePoints","link","isLeft","Segment","segment","aPt","bPt","other","otherEvents","iMax","evt","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","getAvailableLinkedEvents","ringOut","isInResult","getLeftmostComparator","baseEvent","cache","Map","fillCache","linkedEvent","nextEvent","sine","cosine","asine","acosine","bsine","bcosine","segmentId","alx","leftSE","blx","arx","rightSE","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","rings","windings","fromRing","leftPt","rightPt","winding","cmpPts","replaceRightSE","newRightSE","y1","y2","vector","isAnEndpoint","lPt","rPt","yDist","xFromYDist","xDist","yFromXDist","getIntersection","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","newEvents","alreadyLinked","newLeftSE","oldRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","prevInResult","_prevInResult","beforeState","_beforeState","seg","afterState","multiPolys","_afterState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","poly","isExterior","mp","multiPoly","_isInResult","mpsBefore","operation","noBefores","noAfters","least","most","numMultiPolys","diff","isJustSubject","mps","isSubject","RingIn","geomRing","segments","firstPoint","prevPoint","getSweepEvents","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","ringSweepEvents","jMax","MultiPolyIn","geom","ex","polys","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","factory","allSegments","ringsOut","prevEvent","event","startingPoint","intersectionLEs","availableLEs","firstPt","lastPt","indexLE","intersectionLE","ringEvents","unshift","reverse","getGeom","prevPt","nextPt","shift","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","addInterior","ringGeom","MultiPolyOut","_composePolys","polyGeom","SweepLine","queue","nextSeg","prevMySplitter","prevInter","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","mySplitter","inter","POLYGON_CLIPPING_MAX_QUEUE_SIZE","env","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","Operation","run","moreGeoms","multipolys","subject","mpA","sweepLine","prevQueueSize","_len","_key","intersection","_len2","_key2","xor","_len3","_key3","difference","subjectGeom","_len4","clippingGeoms","_key4","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","globalThis","window","obj","prop","earthRadius","factors","centimeters","centimetres","degrees","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","radians","yards","feat","featureCollection","fc","multiLineString","multiPolygon","radiansToLength","units","factor","lengthToRadians","distance","radiansToDegrees","degreesToRadians","num","isNaN","turf_bbox_polygon_default","west","south","east","north","lowLeft","ii","u1","u2","currentP","nextP","numContours","contourLen","contour","getCoord","getCoords","coords","geojson","booleanPointInPolygon","inBBox","result","polyResult","ignoreBoundary","TinyQueue","defaultCompare","_down","item","_up","bottom","peek","pos","halfLength","best","checkWhichEventIsLeft","e1","e2","checkWhichSegmentHasRightEndpointFirst","seg1","seg2","rightSweepEvent","Event","ringId","eventId","otherEvent","isLeftEndpoint","isSamePoint","eventToCheck","processFeature","featureOrGeometry","eventQueue","iii","leftSweepEvent","testSegmentIntersect","x1","x2","x3","y3","x4","y4","denom","numeA","numeB","uA","uB","ignoreSelfIntersections","fillEventQueue","intersectionPoints","outQueue","otherSeg","runCheck","lineIntersect","line1","line2","removeDuplicates","intersections","results","unique","featureEach","callback","geomEach","stopG","geometryMaybeCollection","isGeometryCollection","featureProperties","featureBBox","featureIndex","isFeatureCollection","flattenEach","geomType","multiFeatureIndex","coordinate","polygonToLine","coordsToLine","singlePolygonToLine","lines","multiPolygonToLine","turf_polygon_to_line_default","booleanDisjoint","feature1","feature2","bool","flatten1","flatten2","geom1","geom2","pair1","pair2","isPointOnLine","lineString1","lineString2","doLinesIntersect","isLineOnLine","isLineInPoly","coord1","coord2","isPolyInPoly","disjoint","lineString","isPointOnLineSegment","lineSegmentStart","lineSegmentEnd","dxc","dyc","dxl","dyl","turf_boolean_disjoint_default","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","turf_distance_default","bearing","final","bear","calculateFinalBearing","lon1","lon2","destination","origin","longitude1","latitude1","bearingRad","latitude2","asin","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","writable","__spreadValues","__spreadProps","turf_nearest_point_on_line_default","closestPt","Infinity","location","_featureIndex","sectionLength","heightDistance","perpendicularPt1","perpendicularPt2","intersectPt","cloneFeature","cloned","cloneFeatureCollection","cloneGeometry","cloneProperties","deepSlice","turf_nearest_point_default","targetPoint","minDist","bestFeatureIndex","distanceToPoint","nearestPoint2","turf_midpoint_default","point1","point2","IDS","VERTICAL_GUIDE","HORIZONTAL_GUIDE","addPointTovertices","vertices","forceInclusion","getCanvas","project","createSnapList","draw","currentFeature","sourcesIds","sourcesFeatures","sourceData","_data","flat","snapList","bboxAsPolygon","canvas","cUR","unproject","toArray","cLL","addVerticesTovertices","isCurrentFeature","getFeatureWithNearestPoint","lineStrings","nearestPointsOfEachFeature","calcClosestLayer","closestLayer","layer","isMarker","isPolygon","isMultiPolygon","isMultiPoint","latlngs","latlng","np","nearestPoint","closestFeature","flatMap","segmentIndex","calcLayerDistances","checkPrioritiySnapping","snapOptions","snapVertexPriorityDistance","snapToPoint","distanceAC","distanceBC","snapLatlng","closestVertexLatLng","shortestDistance","snapToMidPoints","distanceMC","snapToLineOrPolygon","snap","state","minDistance","snapLatLng","verticalPx","horizontalPx","altKey","showVerticalSnapLine","showHorizontalSnapLine","snapPx","latitude","zoomLevel","latitudeRadians","metersPerPixel","getZoom","guides","nearestGuidline","verticals","horizontals","vertex","px","py","getNearbyvertices","lngLatTop","lngLatBottom","verticalGuide","horizontalGuide","getGuideFeature","isSnapGuide","shouldHideGuide","turf_boolean_intersects_default","geoms","differenced","DrawPolygonMode","SnapPolygonMode","selectedFeatures","snappedLat","snappedLng","ghostPoint","assign","overlap","moveendCallback","optionsChangedCallBAck","display","userPolygon","edited","err","rc","DirectSelect","Constants","SnapDirectSelect","opts","delta","defaultStyle"],"sourceRoot":""}